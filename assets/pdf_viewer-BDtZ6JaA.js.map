{"version":3,"file":"pdf_viewer-BDtZ6JaA.js","sources":["../../node_modules/.pnpm/pdfjs-dist@4.4.168/node_modules/pdfjs-dist/web/pdf_viewer.mjs"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = globalThis.pdfjsViewer = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () => (/* reexport */ AnnotationLayerBuilder),\n  DownloadManager: () => (/* reexport */ DownloadManager),\n  EventBus: () => (/* reexport */ EventBus),\n  FindState: () => (/* reexport */ FindState),\n  GenericL10n: () => (/* reexport */ genericl10n_GenericL10n),\n  LinkTarget: () => (/* reexport */ LinkTarget),\n  PDFFindController: () => (/* reexport */ PDFFindController),\n  PDFHistory: () => (/* reexport */ PDFHistory),\n  PDFLinkService: () => (/* reexport */ PDFLinkService),\n  PDFPageView: () => (/* reexport */ PDFPageView),\n  PDFScriptingManager: () => (/* reexport */ PDFScriptingManagerComponents),\n  PDFSinglePageViewer: () => (/* reexport */ PDFSinglePageViewer),\n  PDFViewer: () => (/* reexport */ PDFViewer),\n  ProgressBar: () => (/* reexport */ ProgressBar),\n  RenderingStates: () => (/* reexport */ RenderingStates),\n  ScrollMode: () => (/* reexport */ ScrollMode),\n  SimpleLinkService: () => (/* reexport */ SimpleLinkService),\n  SpreadMode: () => (/* reexport */ SpreadMode),\n  StructTreeLayerBuilder: () => (/* reexport */ StructTreeLayerBuilder),\n  TextLayerBuilder: () => (/* reexport */ TextLayerBuilder),\n  XfaLayerBuilder: () => (/* reexport */ XfaLayerBuilder),\n  parseQueryString: () => (/* reexport */ parseQueryString)\n});\n\n;// CONCATENATED MODULE: ./web/ui_utils.js\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1.0;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10.0;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nconst CursorTool = {\n  SELECT: 0,\n  HAND: 1,\n  ZOOM: 2\n};\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n}\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback, abortSignal = undefined) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal?.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\nfunction parseQueryString(query) {\n  const params = new Map();\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n  return params;\n}\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, m => m === \"\\x00\" ? \"\" : \" \");\n  }\n  return str.replaceAll(\"\\x00\", \"\");\n}\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n    b = 1,\n    c = 1,\n    d = 1;\n  while (true) {\n    const p = a + c,\n      q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n    bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n    right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n  const visible = [],\n    ids = new Set(),\n    numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n      element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n      viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n      fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n  const first = visible[0],\n    last = visible.at(-1);\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\nfunction normalizeWheelEventDirection(evt) {\n  let delta = Math.hypot(evt.deltaX, evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n  return delta;\n}\nfunction normalizeWheelEventDelta(evt) {\n  const deltaMode = evt.deltaMode;\n  let delta = normalizeWheelEventDirection(evt);\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n  if (deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (deltaMode === WheelEvent.DOM_DELTA_LINE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n  return delta;\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  #classList = null;\n  #disableAutoFetchTimeout = null;\n  #percent = 0;\n  #style = null;\n  #visible = true;\n  constructor(bar) {\n    this.#classList = bar.classList;\n    this.#style = bar.style;\n  }\n  get percent() {\n    return this.#percent;\n  }\n  set percent(val) {\n    this.#percent = clamp(val, 0, 100);\n    if (isNaN(val)) {\n      this.#classList.add(\"indeterminate\");\n      return;\n    }\n    this.#classList.remove(\"indeterminate\");\n    this.#style.setProperty(\"--progressBar-percent\", `${this.#percent}%`);\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      this.#style.setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n  setDisableAutoFetch(delay = 5000) {\n    if (isNaN(this.#percent)) {\n      return;\n    }\n    if (this.#disableAutoFetchTimeout) {\n      clearTimeout(this.#disableAutoFetchTimeout);\n    }\n    this.show();\n    this.#disableAutoFetchTimeout = setTimeout(() => {\n      this.#disableAutoFetchTimeout = null;\n      this.hide();\n    }, delay);\n  }\n  hide() {\n    if (!this.#visible) {\n      return;\n    }\n    this.#visible = false;\n    this.#classList.add(\"hidden\");\n  }\n  show() {\n    if (this.#visible) {\n      return;\n    }\n    this.#visible = true;\n    this.#classList.remove(\"hidden\");\n  }\n}\nfunction getActiveOrFocusedElement() {\n  let curRoot = document;\n  let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  while (curActiveOrFocused?.shadowRoot) {\n    curRoot = curActiveOrFocused.shadowRoot;\n    curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  }\n  return curActiveOrFocused;\n}\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL,\n    spreadMode = SpreadMode.NONE;\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n    case \"OneColumn\":\n      break;\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return SidebarView.NONE;\n    case \"UseThumbs\":\n      return SidebarView.THUMBS;\n    case \"UseOutlines\":\n      return SidebarView.OUTLINE;\n    case \"UseAttachments\":\n      return SidebarView.ATTACHMENTS;\n    case \"UseOC\":\n      return SidebarView.LAYERS;\n  }\n  return SidebarView.NONE;\n}\nfunction toggleCheckedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-checked\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\nfunction toggleExpandedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-expanded\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\n\n;// CONCATENATED MODULE: ./web/pdf_find_utils.js\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n    return CharacterType.ALPHA_LETTER;\n  }\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n  return CharacterType.ALPHA_LETTER;\n}\nlet NormalizeWithNFKC;\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC ||= ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`;\n  return NormalizeWithNFKC;\n}\n\n;// CONCATENATED MODULE: ./web/pdf_find_controller.js\n\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"\\u2010\": \"-\",\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\u00BC\": \"1/4\",\n  \"\\u00BD\": \"1/2\",\n  \"\\u00BE\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = new Set([0x3099, 0x309a, 0x094d, 0x09cd, 0x0a4d, 0x0acd, 0x0b4d, 0x0bcd, 0x0c4d, 0x0ccd, 0x0d3b, 0x0d3c, 0x0d4d, 0x0dca, 0x0e3a, 0x0eba, 0x0f84, 0x1039, 0x103a, 0x1714, 0x1734, 0x17d2, 0x1a60, 0x1b44, 0x1baa, 0x1bab, 0x1bf2, 0x1bf3, 0x2d7f, 0xa806, 0xa82c, 0xa8c4, 0xa953, 0xa9c0, 0xaaf6, 0xabed, 0x0c56, 0x0f71, 0x0f72, 0x0f7a, 0x0f7b, 0x0f7c, 0x0f7d, 0x0f80, 0x0f74]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = /\\p{M}+/gu;\nconst SPECIAL_CHARS_REG_EXP = /([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})/gu;\nconst NOT_DIACRITIC_FROM_END_REG_EXP = /([^\\p{M}])\\p{M}*$/u;\nconst NOT_DIACRITIC_FROM_START_REG_EXP = /^\\p{M}*([^\\p{M}])/u;\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n      syllablePositions.push([len, index++]);\n    }\n  }\n  let normalizationRegex;\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[\\u3040-\\u30FF])\";\n    const HKDiacritics = \"(?:\\u3099|\\u309A)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n  const rawDiacriticsPositions = [];\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    i -= shiftOrigin;\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p3) {\n      hasDiacritics = true;\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n      shift -= jj;\n      shiftOrigin += jj;\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n      return p4;\n    }\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n    if (i + eol === syllablePositions[syllableIndex]?.[1]) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, x => x[0] >= start);\n  if (diffs[i][0] > start) {\n    --i;\n  }\n  let j = binarySearchFirstItem(diffs, x => x[0] >= end, i);\n  if (diffs[j][0] > end) {\n    --j;\n  }\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\nclass PDFFindController {\n  #state = null;\n  #updateMatchesCountOnProgress = true;\n  #visitedPagesCount = 0;\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    this.#updateMatchesCountOnProgress = updateMatchesCountOnProgress;\n    this.onIsPageVisible = null;\n    this.#reset();\n    eventBus._on(\"find\", this.#onFind.bind(this));\n    eventBus._on(\"findbarclose\", this.#onFindBarClose.bind(this));\n  }\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n  get pageMatches() {\n    return this._pageMatches;\n  }\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n  get selected() {\n    return this._selected;\n  }\n  get state() {\n    return this.#state;\n  }\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      this.#reset();\n    }\n    if (!pdfDocument) {\n      return;\n    }\n    this._pdfDocument = pdfDocument;\n    this._firstPageCapability.resolve();\n  }\n  #onFind(state) {\n    if (!state) {\n      return;\n    }\n    const pdfDocument = this._pdfDocument;\n    const {\n      type\n    } = state;\n    if (this.#state === null || this.#shouldDirtyMatch(state)) {\n      this._dirtyMatch = true;\n    }\n    this.#state = state;\n    if (type !== \"highlightallchange\") {\n      this.#updateUIState(FindState.PENDING);\n    }\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n      this.#extractText();\n      const findbarClosed = !this._highlightMatches;\n      const pendingTimeout = !!this._findTimeout;\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n      if (!type) {\n        this._findTimeout = setTimeout(() => {\n          this.#nextMatch();\n          this._findTimeout = null;\n        }, FIND_TIMEOUT);\n      } else if (this._dirtyMatch) {\n        this.#nextMatch();\n      } else if (type === \"again\") {\n        this.#nextMatch();\n        if (findbarClosed && this.#state.highlightAll) {\n          this.#updateAllPages();\n        }\n      } else if (type === \"highlightallchange\") {\n        if (pendingTimeout) {\n          this.#nextMatch();\n        } else {\n          this._highlightMatches = true;\n        }\n        this.#updateAllPages();\n      } else {\n        this.#nextMatch();\n      }\n    });\n  }\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n  #reset() {\n    this._highlightMatches = false;\n    this._scrollMatches = false;\n    this._pdfDocument = null;\n    this._pageMatches = [];\n    this._pageMatchesLength = [];\n    this.#visitedPagesCount = 0;\n    this.#state = null;\n    this._selected = {\n      pageIdx: -1,\n      matchIdx: -1\n    };\n    this._offset = {\n      pageIdx: null,\n      matchIdx: null,\n      wrapped: false\n    };\n    this._extractTextPromises = [];\n    this._pageContents = [];\n    this._pageDiffs = [];\n    this._hasDiacritics = [];\n    this._matchesCountTotal = 0;\n    this._pagesToSearch = null;\n    this._pendingFindMatches = new Set();\n    this._resumePageIdx = null;\n    this._dirtyMatch = false;\n    clearTimeout(this._findTimeout);\n    this._findTimeout = null;\n    this._firstPageCapability = Promise.withResolvers();\n  }\n  get #query() {\n    const {\n      query\n    } = this.#state;\n    if (typeof query === \"string\") {\n      if (query !== this._rawQuery) {\n        this._rawQuery = query;\n        [this._normalizedQuery] = normalize(query);\n      }\n      return this._normalizedQuery;\n    }\n    return (query || []).filter(q => !!q).map(q => normalize(q)[0]);\n  }\n  #shouldDirtyMatch(state) {\n    const newQuery = state.query,\n      prevQuery = this.#state.query;\n    const newType = typeof newQuery,\n      prevType = typeof prevQuery;\n    if (newType !== prevType) {\n      return true;\n    }\n    if (newType === \"string\") {\n      if (newQuery !== prevQuery) {\n        return true;\n      }\n    } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n      return true;\n    }\n    switch (state.type) {\n      case \"again\":\n        const pageNumber = this._selected.pageIdx + 1;\n        const linkService = this._linkService;\n        return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(this.onIsPageVisible?.(pageNumber) ?? true);\n      case \"highlightallchange\":\n        return false;\n    }\n    return true;\n  }\n  #isEntireWord(content, startIdx, length) {\n    let match = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n    if (match) {\n      const first = content.charCodeAt(startIdx);\n      const limit = match[1].charCodeAt(0);\n      if (getCharacterType(first) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n    match = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n    if (match) {\n      const last = content.charCodeAt(startIdx + length - 1);\n      const limit = match[1].charCodeAt(0);\n      if (getCharacterType(last) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  #calculateRegExpMatch(query, entireWord, pageIndex, pageContent) {\n    const matches = this._pageMatches[pageIndex] = [];\n    const matchesLength = this._pageMatchesLength[pageIndex] = [];\n    if (!query) {\n      return;\n    }\n    const diffs = this._pageDiffs[pageIndex];\n    let match;\n    while ((match = query.exec(pageContent)) !== null) {\n      if (entireWord && !this.#isEntireWord(pageContent, match.index, match[0].length)) {\n        continue;\n      }\n      const [matchPos, matchLen] = getOriginalIndex(diffs, match.index, match[0].length);\n      if (matchLen) {\n        matches.push(matchPos);\n        matchesLength.push(matchLen);\n      }\n    }\n  }\n  #convertToRegExpString(query, hasDiacritics) {\n    const {\n      matchDiacritics\n    } = this.#state;\n    let isUnicode = false;\n    query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match, p1, p2, p3, p4, p5) => {\n      if (p1) {\n        return `[ ]*\\\\${p1}[ ]*`;\n      }\n      if (p2) {\n        return `[ ]*${p2}[ ]*`;\n      }\n      if (p3) {\n        return \"[ ]+\";\n      }\n      if (matchDiacritics) {\n        return p4 || p5;\n      }\n      if (p4) {\n        return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n      }\n      if (hasDiacritics) {\n        isUnicode = true;\n        return `${p5}\\\\p{M}*`;\n      }\n      return p5;\n    });\n    const trailingSpaces = \"[ ]*\";\n    if (query.endsWith(trailingSpaces)) {\n      query = query.slice(0, query.length - trailingSpaces.length);\n    }\n    if (matchDiacritics) {\n      if (hasDiacritics) {\n        DIACRITICS_EXCEPTION_STR ||= String.fromCharCode(...DIACRITICS_EXCEPTION);\n        isUnicode = true;\n        query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n      }\n    }\n    return [isUnicode, query];\n  }\n  #calculateMatch(pageIndex) {\n    let query = this.#query;\n    if (query.length === 0) {\n      return;\n    }\n    const {\n      caseSensitive,\n      entireWord\n    } = this.#state;\n    const pageContent = this._pageContents[pageIndex];\n    const hasDiacritics = this._hasDiacritics[pageIndex];\n    let isUnicode = false;\n    if (typeof query === \"string\") {\n      [isUnicode, query] = this.#convertToRegExpString(query, hasDiacritics);\n    } else {\n      query = query.sort().reverse().map(q => {\n        const [isUnicodePart, queryPart] = this.#convertToRegExpString(q, hasDiacritics);\n        isUnicode ||= isUnicodePart;\n        return `(${queryPart})`;\n      }).join(\"|\");\n    }\n    const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n    query = query ? new RegExp(query, flags) : null;\n    this.#calculateRegExpMatch(query, entireWord, pageIndex, pageContent);\n    if (this.#state.highlightAll) {\n      this.#updatePage(pageIndex);\n    }\n    if (this._resumePageIdx === pageIndex) {\n      this._resumePageIdx = null;\n      this.#nextPageMatch();\n    }\n    const pageMatchesCount = this._pageMatches[pageIndex].length;\n    this._matchesCountTotal += pageMatchesCount;\n    if (this.#updateMatchesCountOnProgress) {\n      if (pageMatchesCount > 0) {\n        this.#updateUIResultsCount();\n      }\n    } else if (++this.#visitedPagesCount === this._linkService.pagesCount) {\n      this.#updateUIResultsCount();\n    }\n  }\n  #extractText() {\n    if (this._extractTextPromises.length > 0) {\n      return;\n    }\n    let deferred = Promise.resolve();\n    const textOptions = {\n      disableNormalization: true\n    };\n    for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n      const {\n        promise,\n        resolve\n      } = Promise.withResolvers();\n      this._extractTextPromises[i] = promise;\n      deferred = deferred.then(() => {\n        return this._pdfDocument.getPage(i + 1).then(pdfPage => pdfPage.getTextContent(textOptions)).then(textContent => {\n          const strBuf = [];\n          for (const textItem of textContent.items) {\n            strBuf.push(textItem.str);\n            if (textItem.hasEOL) {\n              strBuf.push(\"\\n\");\n            }\n          }\n          [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n          resolve();\n        }, reason => {\n          console.error(`Unable to get text content for page ${i + 1}`, reason);\n          this._pageContents[i] = \"\";\n          this._pageDiffs[i] = null;\n          this._hasDiacritics[i] = false;\n          resolve();\n        });\n      });\n    }\n  }\n  #updatePage(index) {\n    if (this._scrollMatches && this._selected.pageIdx === index) {\n      this._linkService.page = index + 1;\n    }\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: index\n    });\n  }\n  #updateAllPages() {\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: -1\n    });\n  }\n  #nextMatch() {\n    const previous = this.#state.findPrevious;\n    const currentPageIndex = this._linkService.page - 1;\n    const numPages = this._linkService.pagesCount;\n    this._highlightMatches = true;\n    if (this._dirtyMatch) {\n      this._dirtyMatch = false;\n      this._selected.pageIdx = this._selected.matchIdx = -1;\n      this._offset.pageIdx = currentPageIndex;\n      this._offset.matchIdx = null;\n      this._offset.wrapped = false;\n      this._resumePageIdx = null;\n      this._pageMatches.length = 0;\n      this._pageMatchesLength.length = 0;\n      this.#visitedPagesCount = 0;\n      this._matchesCountTotal = 0;\n      this.#updateAllPages();\n      for (let i = 0; i < numPages; i++) {\n        if (this._pendingFindMatches.has(i)) {\n          continue;\n        }\n        this._pendingFindMatches.add(i);\n        this._extractTextPromises[i].then(() => {\n          this._pendingFindMatches.delete(i);\n          this.#calculateMatch(i);\n        });\n      }\n    }\n    const query = this.#query;\n    if (query.length === 0) {\n      this.#updateUIState(FindState.FOUND);\n      return;\n    }\n    if (this._resumePageIdx) {\n      return;\n    }\n    const offset = this._offset;\n    this._pagesToSearch = numPages;\n    if (offset.matchIdx !== null) {\n      const numPageMatches = this._pageMatches[offset.pageIdx].length;\n      if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n        offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n        this.#updateMatch(true);\n        return;\n      }\n      this.#advanceOffsetPage(previous);\n    }\n    this.#nextPageMatch();\n  }\n  #matchesReady(matches) {\n    const offset = this._offset;\n    const numMatches = matches.length;\n    const previous = this.#state.findPrevious;\n    if (numMatches) {\n      offset.matchIdx = previous ? numMatches - 1 : 0;\n      this.#updateMatch(true);\n      return true;\n    }\n    this.#advanceOffsetPage(previous);\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n      if (this._pagesToSearch < 0) {\n        this.#updateMatch(false);\n        return true;\n      }\n    }\n    return false;\n  }\n  #nextPageMatch() {\n    if (this._resumePageIdx !== null) {\n      console.error(\"There can only be one pending page.\");\n    }\n    let matches = null;\n    do {\n      const pageIdx = this._offset.pageIdx;\n      matches = this._pageMatches[pageIdx];\n      if (!matches) {\n        this._resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this.#matchesReady(matches));\n  }\n  #advanceOffsetPage(previous) {\n    const offset = this._offset;\n    const numPages = this._linkService.pagesCount;\n    offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n    offset.matchIdx = null;\n    this._pagesToSearch--;\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = previous ? numPages - 1 : 0;\n      offset.wrapped = true;\n    }\n  }\n  #updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    const wrapped = this._offset.wrapped;\n    this._offset.wrapped = false;\n    if (found) {\n      const previousPage = this._selected.pageIdx;\n      this._selected.pageIdx = this._offset.pageIdx;\n      this._selected.matchIdx = this._offset.matchIdx;\n      state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n      if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n        this.#updatePage(previousPage);\n      }\n    }\n    this.#updateUIState(state, this.#state.findPrevious);\n    if (this._selected.pageIdx !== -1) {\n      this._scrollMatches = true;\n      this.#updatePage(this._selected.pageIdx);\n    }\n  }\n  #onFindBarClose(evt) {\n    const pdfDocument = this._pdfDocument;\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n      if (this._resumePageIdx) {\n        this._resumePageIdx = null;\n        this._dirtyMatch = true;\n      }\n      this.#updateUIState(FindState.FOUND);\n      this._highlightMatches = false;\n      this.#updateAllPages();\n    });\n  }\n  #requestMatchesCount() {\n    const {\n      pageIdx,\n      matchIdx\n    } = this._selected;\n    let current = 0,\n      total = this._matchesCountTotal;\n    if (matchIdx !== -1) {\n      for (let i = 0; i < pageIdx; i++) {\n        current += this._pageMatches[i]?.length || 0;\n      }\n      current += matchIdx + 1;\n    }\n    if (current < 1 || current > total) {\n      current = total = 0;\n    }\n    return {\n      current,\n      total\n    };\n  }\n  #updateUIResultsCount() {\n    this._eventBus.dispatch(\"updatefindmatchescount\", {\n      source: this,\n      matchesCount: this.#requestMatchesCount()\n    });\n  }\n  #updateUIState(state, previous = false) {\n    if (!this.#updateMatchesCountOnProgress && (this.#visitedPagesCount !== this._linkService.pagesCount || state === FindState.PENDING)) {\n      return;\n    }\n    this._eventBus.dispatch(\"updatefindcontrolstate\", {\n      source: this,\n      state,\n      previous,\n      entireWord: this.#state?.entireWord ?? null,\n      matchesCount: this.#requestMatchesCount(),\n      rawQuery: this.#state?.query ?? null\n    });\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_link_service.js\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nclass PDFLinkService {\n  externalLinkEnabled = true;\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let namedDest, explicitDest, pageNumber;\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n    if (!Array.isArray(explicitDest)) {\n      console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n    const [destRef] = explicitDest;\n    if (destRef && typeof destRef === \"object\") {\n      pageNumber = this.pdfDocument.cachedPageNumber(destRef);\n      if (!pageNumber) {\n        try {\n          pageNumber = (await this.pdfDocument.getPageIndex(destRef)) + 1;\n        } catch {\n          console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n          return;\n        }\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    }\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n      rel = this.externalLinkRel;\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n      link.onclick = () => false;\n    }\n    let targetStr = \"\";\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n    return this.getAnchorUrl(\"\");\n  }\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n  setHash(hash) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber, dest;\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"),\n          phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n      return;\n    }\n    dest = unescape(hash);\n    try {\n      dest = JSON.parse(dest);\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {}\n    if (typeof dest === \"string\" || PDFLinkService.#isValidExplicitDest(dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n  executeNamedAction(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    switch (action) {\n      case \"GoBack\":\n        this.pdfHistory?.back();\n        break;\n      case \"GoForward\":\n        this.pdfHistory?.forward();\n        break;\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n      default:\n        break;\n    }\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n  async executeSetOCGState(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pdfDocument = this.pdfDocument,\n      optionalContentConfig = await this.pdfViewer.optionalContentConfigPromise;\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n    optionalContentConfig.setOCGState(action);\n    this.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n  }\n  static #isValidExplicitDest(dest) {\n    if (!Array.isArray(dest) || dest.length < 2) {\n      return false;\n    }\n    const [page, zoom, ...args] = dest;\n    if (!(typeof page === \"object\" && Number.isInteger(page?.num) && Number.isInteger(page?.gen)) && !Number.isInteger(page)) {\n      return false;\n    }\n    if (!(typeof zoom === \"object\" && typeof zoom?.name === \"string\")) {\n      return false;\n    }\n    let allowNull = true;\n    switch (zoom.name) {\n      case \"XYZ\":\n        if (args.length !== 3) {\n          return false;\n        }\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        return args.length === 0;\n      case \"FitH\":\n      case \"FitBH\":\n      case \"FitV\":\n      case \"FitBV\":\n        if (args.length !== 1) {\n          return false;\n        }\n        break;\n      case \"FitR\":\n        if (args.length !== 4) {\n          return false;\n        }\n        allowNull = false;\n        break;\n      default:\n        return false;\n    }\n    for (const arg of args) {\n      if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {}\n}\n\n;// CONCATENATED MODULE: ./web/pdfjs.js\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  Outliner,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  renderTextLayer,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  updateTextLayer,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\n\n;// CONCATENATED MODULE: ./web/annotation_layer_builder.js\n\n\nclass AnnotationLayerBuilder {\n  #onAppend = null;\n  #eventAbortController = null;\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this.#onAppend = onAppend;\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n  async render(viewport, intent = \"display\") {\n    if (this.div) {\n      if (this._cancelled || !this.annotationLayer) {\n        return;\n      }\n      this.annotationLayer.update({\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      return;\n    }\n    const [annotations, hasJSActions, fieldObjects] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n    if (this._cancelled) {\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationLayer\";\n    this.#onAppend?.(div);\n    if (annotations.length === 0) {\n      this.hide();\n      return;\n    }\n    this.annotationLayer = new AnnotationLayer({\n      div,\n      accessibilityManager: this._accessibilityManager,\n      annotationCanvasMap: this._annotationCanvasMap,\n      annotationEditorUIManager: this._annotationEditorUIManager,\n      page: this.pdfPage,\n      viewport: viewport.clone({\n        dontFlip: true\n      })\n    });\n    await this.annotationLayer.render({\n      annotations,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects\n    });\n    if (this.linkService.isInPresentationMode) {\n      this.#updatePresentationModeState(PresentationModeState.FULLSCREEN);\n    }\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n      this._eventBus?._on(\"presentationmodechanged\", evt => {\n        this.#updatePresentationModeState(evt.state);\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n  }\n  cancel() {\n    this._cancelled = true;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  #updatePresentationModeState(state) {\n    if (!this.div) {\n      return;\n    }\n    let disableFormElements = false;\n    switch (state) {\n      case PresentationModeState.FULLSCREEN:\n        disableFormElements = true;\n        break;\n      case PresentationModeState.NORMAL:\n        break;\n      default:\n        return;\n    }\n    for (const section of this.div.childNodes) {\n      if (section.hasAttribute(\"data-internal-link\")) {\n        continue;\n      }\n      section.inert = disableFormElements;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/download_manager.js\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\nclass DownloadManager {\n  #openBlobUrls = new WeakMap();\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n  download(data, url, filename, _options) {\n    let blobUrl;\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n    download(blobUrl, filename);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/event_utils.js\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nasync function waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n    throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n  }\n  const {\n    promise,\n    resolve\n  } = Promise.withResolvers();\n  const ac = new AbortController();\n  function handler(type) {\n    ac.abort();\n    clearTimeout(timeout);\n    resolve(type);\n  }\n  const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n  target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n    signal: ac.signal\n  });\n  const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n  return promise;\n}\nclass EventBus {\n  #listeners = Object.create(null);\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options?.once,\n      signal: options?.signal\n    });\n  }\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n  dispatch(eventName, data) {\n    const eventListeners = this.#listeners[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    let externalListeners;\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n      if (external) {\n        (externalListeners ||= []).push(listener);\n        continue;\n      }\n      listener(data);\n    }\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n      externalListeners = null;\n    }\n  }\n  _on(eventName, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this._off(eventName, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    const eventListeners = this.#listeners[eventName] ||= [];\n    eventListeners.push({\n      listener,\n      external: options?.external === true,\n      once: options?.once === true,\n      rmAbort\n    });\n  }\n  _off(eventName, listener, options = null) {\n    const eventListeners = this.#listeners[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n      if (evt.listener === listener) {\n        evt.rmAbort?.();\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\nclass FirefoxEventBus extends EventBus {\n  #externalServices;\n  #globalEventNames;\n  #isInAutomation;\n  constructor(globalEventNames, externalServices, isInAutomation) {\n    super();\n    this.#globalEventNames = globalEventNames;\n    this.#externalServices = externalServices;\n    this.#isInAutomation = isInAutomation;\n  }\n  dispatch(eventName, data) {\n    throw new Error(\"Not implemented: FirefoxEventBus.dispatch\");\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/types.js\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n  valueOf() {\n    return this.value;\n  }\n}\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n}\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n}\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resolver.js\n\nconst MAX_PLACEABLES = 100;\nconst FSI = \"\\u2068\";\nconst PDI = \"\\u2069\";\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = Object.create(null);\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n  return {\n    positional,\n    named\n  };\n}\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n    case \"term\":\n      return resolveTermReference(scope, expr);\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n    default:\n      return new FluentNone();\n  }\n}\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n  if (attr) {\n    const attribute = message.attributes[attr];\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n  if (attr) {\n    const attribute = term.attributes[attr];\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved;\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n  return getDefault(scope, variants, star);\n}\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n    scope.placeables++;\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, ` + `max allowed is ${MAX_PLACEABLES}`);\n    }\n    if (useIsolating) {\n      result.push(FSI);\n    }\n    result.push(resolveExpression(scope, elem).toString(scope));\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n  return resolveComplexPattern(scope, value);\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/scope.js\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n    this.errors.push(error);\n  }\n  memoizeIntlObject(ctor, opts) {\n    let cache = this.bundle._intls.get(ctor);\n    if (!cache) {\n      cache = {};\n      this.bundle._intls.set(ctor, cache);\n    }\n    let id = JSON.stringify(opts);\n    if (!cache[id]) {\n      cache[id] = new ctor(this.bundle.locales, opts);\n    }\n    return cache[id];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/builtins.js\n\nfunction values(opts, allowed) {\n  const unwrapped = Object.create(null);\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n  return unwrapped;\n}\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), {\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/memoizer.js\nconst cache = new Map();\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n  if (memoizer === undefined) {\n    memoizer = new Map();\n    cache.set(stringLocale, memoizer);\n  }\n  return memoizer;\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/bundle.js\n\n\n\n\n\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = v => v\n  } = {}) {\n    this._terms = new Map();\n    this._messages = new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER: NUMBER,\n      DATETIME: DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n        this._messages.set(entry.id, entry);\n      }\n    }\n    return errors;\n  }\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n    let scope = new Scope(this, errors, args);\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n      throw err;\n    }\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resource.js\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n        throw err;\n      }\n    }\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n    function match(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n    function match1(re) {\n      return match(re)[1];\n    }\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n    function parseAttributes() {\n      let attrs = Object.create(null);\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n      return attrs;\n    }\n    function parsePattern() {\n      let first;\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n      return null;\n    }\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n        break;\n      }\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n      let baked = [];\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match(RE_REFERENCE);\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n      return parseLiteral();\n    }\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n          case undefined:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n      return expr;\n    }\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n      if (count === 0) {\n        return null;\n      }\n      if (star === undefined) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n      return {\n        variants,\n        star\n      };\n    }\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n      throw new SyntaxError(\"Invalid expression\");\n    }\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 0xd7ff || 0xe000 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case undefined:\n          return false;\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n      return false;\n    }\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n}\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/index.js\n\n\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/overlay.js\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n  overlayAttributes(translation, element);\n}\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in ` + \"the translation. Only safe text-level elements and elements with \" + \"data-l10n-name are allowed.\");\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map(i => i.trim()) : null;\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n  if (!fromElement.attributes) {\n    return;\n  }\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation ` + `but its type ${translatedChild.localName} didn't match the ` + `element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n  if (!allowed) {\n    return false;\n  }\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n  if (!allowed[elemName]) {\n    return false;\n  }\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n    return new this(iterable);\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs\n\nclass CachedSyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.iterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && last.done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs\n\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      async next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  async touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && (await last).done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs\n\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/localization.js\n\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter(r => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n  async formatWithFallback(keys, method) {\n    const translations = [];\n    let hasAtLeastOneBundle = false;\n    for await (const bundle of this.bundles) {\n      hasAtLeastOneBundle = true;\n      const missingIds = keysFromBundle(method, bundle, keys, translations);\n      if (missingIds.size === 0) {\n        break;\n      }\n      if (typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const ids = Array.from(missingIds).join(\", \");\n        console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n      }\n    }\n    if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n      console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`);\n    }\n    return translations;\n  }\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n  async formatValue(id, args) {\n    const [val] = await this.formatValues([{\n      id,\n      args\n    }]);\n    return val;\n  }\n  handleEvent() {\n    this.onChange();\n  }\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n}\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n  return null;\n}\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n  let attrNames = Object.keys(message.attributes);\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n  return formatted;\n}\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== undefined) {\n      return;\n    }\n    let message = bundle.getMessage(id);\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/dom_localization.js\n\n\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = new Set();\n    this.pendingrAF = null;\n    this.pendingElements = new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n  onChange(eager = false) {\n    super.onChange(eager);\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n    return element;\n  }\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver(mutations => this.translateMutations(mutations));\n    }\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n    this.resumeObserving();\n    return false;\n  }\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map(root => this.translateFragment(root)));\n  }\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n          break;\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n          break;\n      }\n    }\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n  async translateElements(elements) {\n    if (!elements.length) {\n      return undefined;\n    }\n    const keys = elements.map(this.getKeysForElement);\n    const translations = await this.formatMessages(keys);\n    return this.applyTranslations(elements, translations);\n  }\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== undefined) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n    this.resumeObserving();\n  }\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n    return nodes;\n  }\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/index.js\n\n\n;// CONCATENATED MODULE: ./web/l10n.js\nclass L10n {\n  #dir;\n  #elements = new Set();\n  #lang;\n  #l10n;\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    this.#lang = L10n.#fixupLangCode(lang);\n    this.#l10n = l10n;\n    this.#dir = isRTL ?? L10n.#isRTL(this.#lang) ? \"rtl\" : \"ltr\";\n  }\n  _setL10n(l10n) {\n    this.#l10n = l10n;\n  }\n  getLanguage() {\n    return this.#lang;\n  }\n  getDirection() {\n    return this.#dir;\n  }\n  async get(ids, args = null, fallback) {\n    if (Array.isArray(ids)) {\n      ids = ids.map(id => ({\n        id\n      }));\n      const messages = await this.#l10n.formatMessages(ids);\n      return messages.map(message => message.value);\n    }\n    const messages = await this.#l10n.formatMessages([{\n      id: ids,\n      args\n    }]);\n    return messages?.[0].value || fallback;\n  }\n  async translate(element) {\n    this.#elements.add(element);\n    try {\n      this.#l10n.connectRoot(element);\n      await this.#l10n.translateRoots();\n    } catch {}\n  }\n  async destroy() {\n    for (const element of this.#elements) {\n      this.#l10n.disconnectRoot(element);\n    }\n    this.#elements.clear();\n    this.#l10n.pauseObserving();\n  }\n  pause() {\n    this.#l10n.pauseObserving();\n  }\n  resume() {\n    this.#l10n.resumeObserving();\n  }\n  static #fixupLangCode(langCode) {\n    langCode = langCode?.toLowerCase() || \"en-us\";\n    const PARTIAL_LANG_CODES = {\n      en: \"en-us\",\n      es: \"es-es\",\n      fy: \"fy-nl\",\n      ga: \"ga-ie\",\n      gu: \"gu-in\",\n      hi: \"hi-in\",\n      hy: \"hy-am\",\n      nb: \"nb-no\",\n      ne: \"ne-np\",\n      nn: \"nn-no\",\n      pa: \"pa-in\",\n      pt: \"pt-pt\",\n      sv: \"sv-se\",\n      zh: \"zh-cn\"\n    };\n    return PARTIAL_LANG_CODES[langCode] || langCode;\n  }\n  static #isRTL(lang) {\n    const shortCode = lang.split(\"-\", 1)[0];\n    return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n  }\n}\nconst GenericL10n = null;\n\n;// CONCATENATED MODULE: ./web/genericl10n.js\n\n\n\n\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n  return bundle;\n}\nclass genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? genericl10n_GenericL10n.#generateBundlesFallback.bind(genericl10n_GenericL10n, this.getLanguage()) : genericl10n_GenericL10n.#generateBundles.bind(genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n  static async *#generateBundles(defaultLang, baseLang) {\n    const {\n      baseURL,\n      paths\n    } = await this.#getPaths();\n    const langs = [baseLang];\n    if (defaultLang !== baseLang) {\n      const shortLang = baseLang.split(\"-\", 1)[0];\n      if (shortLang !== baseLang) {\n        langs.push(shortLang);\n      }\n      langs.push(defaultLang);\n    }\n    for (const lang of langs) {\n      const bundle = await this.#createBundle(lang, baseURL, paths);\n      if (bundle) {\n        yield bundle;\n      } else if (lang === \"en-us\") {\n        yield this.#createBundleFallback(lang);\n      }\n    }\n  }\n  static async #createBundle(lang, baseURL, paths) {\n    const path = paths[lang];\n    if (!path) {\n      return null;\n    }\n    const url = new URL(path, baseURL);\n    const text = await fetchData(url, \"text\");\n    return createBundle(lang, text);\n  }\n  static async #getPaths() {\n    try {\n      const {\n        href\n      } = document.querySelector(`link[type=\"application/l10n\"]`);\n      const paths = await fetchData(href, \"json\");\n      return {\n        baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n        paths\n      };\n    } catch {}\n    return {\n      baseURL: \"./\",\n      paths: Object.create(null)\n    };\n  }\n  static async *#generateBundlesFallback(lang) {\n    yield this.#createBundleFallback(lang);\n  }\n  static async #createBundleFallback(lang) {\n    const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties\\u2026\\npdfjs-document-properties-button-label = Document Properties\\u2026\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-string = { $date }, { $time }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } \\xD7 { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } \\xD7 { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing\\u2026\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document\\u2026\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-string = { $date }, { $time }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing\\u2026\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\\u2019t see the image or when it doesn\\u2019t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, \\u201CA young man sits down at a table to eat a meal\\u201D\\npdfjs-editor-resizer-label-top-left = Top left corner \\u2014 resize\\npdfjs-editor-resizer-label-top-middle = Top middle \\u2014 resize\\npdfjs-editor-resizer-label-top-right = Top right corner \\u2014 resize\\npdfjs-editor-resizer-label-middle-right = Middle right \\u2014 resize\\npdfjs-editor-resizer-label-bottom-right = Bottom right corner \\u2014 resize\\npdfjs-editor-resizer-label-bottom-middle = Bottom middle \\u2014 resize\\npdfjs-editor-resizer-label-bottom-left = Bottom left corner \\u2014 resize\\npdfjs-editor-resizer-label-middle-left = Middle left \\u2014 resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\";\n    return createBundle(lang, text);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_history.js\n\n\nconst HASH_CHANGE_TIMEOUT = 1000;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1000;\nfunction getCurrentHash() {\n  return document.location.hash;\n}\nclass PDFHistory {\n  #eventAbortController = null;\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n      this.eventBus._on(\"pagesloaded\", evt => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    if (this._initialized) {\n      this.reset();\n    }\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    this.#bindEvents();\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n    if (!this.#isValidState(state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash(true);\n      if (!hash || reInitialized || resetHistory) {\n        this.#pushOrReplaceState(null, true);\n        return;\n      }\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n    if (destination.rotation !== undefined) {\n      this._initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n  reset() {\n    if (this._initialized) {\n      this.#pageHide();\n      this._initialized = false;\n      this.#unbindEvents();\n    }\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!this.#isValidPage(pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n    const hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n    this.#pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushPage(pageNumber) {\n    if (!this._initialized) {\n      return;\n    }\n    if (!this.#isValidPage(pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n    if (this._destination?.page === pageNumber) {\n      return;\n    }\n    if (this._popStateInProgress) {\n      return;\n    }\n    this.#pushOrReplaceState({\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    this.#tryPushCurrentPosition();\n  }\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (this.#isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (this.#isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n  #pushOrReplaceState(destination, forceReplace = false) {\n    const shouldReplace = forceReplace || !this._destination;\n    const newState = {\n      fingerprint: this._fingerprint,\n      uid: shouldReplace ? this._uid : this._uid + 1,\n      destination\n    };\n    this.#updateInternalState(destination, newState.uid);\n    let newUrl;\n    if (this._updateUrl && destination?.hash) {\n      const baseUrl = document.location.href.split(\"#\", 1)[0];\n      if (!baseUrl.startsWith(\"file://\")) {\n        newUrl = `${baseUrl}#${destination.hash}`;\n      }\n    }\n    if (shouldReplace) {\n      window.history.replaceState(newState, \"\", newUrl);\n    } else {\n      window.history.pushState(newState, \"\", newUrl);\n    }\n  }\n  #tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n    let position = this._position;\n    if (temporary) {\n      position = Object.assign(Object.create(null), this._position);\n      position.temporary = true;\n    }\n    if (!this._destination) {\n      this.#pushOrReplaceState(position);\n      return;\n    }\n    if (this._destination.temporary) {\n      this.#pushOrReplaceState(position, true);\n      return;\n    }\n    if (this._destination.hash === position.hash) {\n      return;\n    }\n    if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination.page >= position.first && this._destination.page <= position.page) {\n      if (this._destination.dest !== undefined || !this._destination.first) {\n        return;\n      }\n      forceReplace = true;\n    }\n    this.#pushOrReplaceState(position, forceReplace);\n  }\n  #isValidPage(val) {\n    return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n  }\n  #isValidState(state, checkReload = false) {\n    if (!state) {\n      return false;\n    }\n    if (state.fingerprint !== this._fingerprint) {\n      if (checkReload) {\n        if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n          return false;\n        }\n        const [perfEntry] = performance.getEntriesByType(\"navigation\");\n        if (perfEntry?.type !== \"reload\") {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n    if (state.destination === null || typeof state.destination !== \"object\") {\n      return false;\n    }\n    return true;\n  }\n  #updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    if (removeTemporary && destination?.temporary) {\n      delete destination.temporary;\n    }\n    this._destination = destination;\n    this._uid = uid;\n    this._maxUid = Math.max(this._maxUid, uid);\n    this._numPositionUpdates = 0;\n  }\n  #parseCurrentHash(checkNameddest = false) {\n    const hash = unescape(getCurrentHash()).substring(1);\n    const params = parseQueryString(hash);\n    const nameddest = params.get(\"nameddest\") || \"\";\n    let page = params.get(\"page\") | 0;\n    if (!this.#isValidPage(page) || checkNameddest && nameddest.length > 0) {\n      page = null;\n    }\n    return {\n      hash,\n      page,\n      rotation: this.linkService.rotation\n    };\n  }\n  #updateViewarea({\n    location\n  }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._position = {\n      hash: location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation\n    };\n    if (this._popStateInProgress) {\n      return;\n    }\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n      this._numPositionUpdates++;\n    }\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this.#tryPushCurrentPosition(true);\n        }\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n  #popState({\n    state\n  }) {\n    const newHash = getCurrentHash(),\n      hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n    if (!state) {\n      this._uid++;\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash();\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    if (!this.#isValidState(state)) {\n      return;\n    }\n    this._popStateInProgress = true;\n    if (hashChanged) {\n      this._blockHashChange++;\n      waitOnEventOrTimeout({\n        target: window,\n        name: \"hashchange\",\n        delay: HASH_CHANGE_TIMEOUT\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n    if (isValidRotation(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this.linkService.goToDestination(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      this.linkService.page = destination.page;\n    }\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n  #pageHide() {\n    if (!this._destination || this._destination.temporary) {\n      this.#tryPushCurrentPosition();\n    }\n  }\n  #bindEvents() {\n    if (this.#eventAbortController) {\n      return;\n    }\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    this.eventBus._on(\"updateviewarea\", this.#updateViewarea.bind(this), {\n      signal\n    });\n    window.addEventListener(\"popstate\", this.#popState.bind(this), {\n      signal\n    });\n    window.addEventListener(\"pagehide\", this.#pageHide.bind(this), {\n      signal\n    });\n  }\n  #unbindEvents() {\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n}\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n;// CONCATENATED MODULE: ./web/annotation_editor_layer_builder.js\n\n\nclass AnnotationEditorLayerBuilder {\n  #annotationLayer = null;\n  #drawLayer = null;\n  #onAppend = null;\n  #textLayer = null;\n  #uiManager;\n  constructor(options) {\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this.#uiManager = options.uiManager;\n    this.#annotationLayer = options.annotationLayer || null;\n    this.#textLayer = options.textLayer || null;\n    this.#drawLayer = options.drawLayer || null;\n    this.#onAppend = options.onAppend || null;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent !== \"display\") {\n      return;\n    }\n    if (this._cancelled) {\n      return;\n    }\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationEditorLayer\";\n    div.hidden = true;\n    div.dir = this.#uiManager.direction;\n    this.#onAppend?.(div);\n    this.annotationEditorLayer = new AnnotationEditorLayer({\n      uiManager: this.#uiManager,\n      div,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage.pageNumber - 1,\n      l10n: this.l10n,\n      viewport: clonedViewport,\n      annotationLayer: this.#annotationLayer,\n      textLayer: this.#textLayer,\n      drawLayer: this.#drawLayer\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n    this.show();\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.div) {\n      return;\n    }\n    this.annotationEditorLayer.destroy();\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n    this.div.hidden = false;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/app_options.js\n{\n  var compatibilityParams = Object.create(null);\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 0x01,\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  PREFERENCE: 0x80\n};\nconst defaultOptions = {\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightEditor: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableML: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableStampEditor: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: navigator.language || \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = Object.create(null);\n{\n  for (const name in compatibilityParams) {\n    userOptions[name] = compatibilityParams[name];\n  }\n}\nclass AppOptions {\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n  static get(name) {\n    return userOptions[name] ?? defaultOptions[name]?.value ?? undefined;\n  }\n  static getAll(kind = null, defaultOnly = false) {\n    const options = Object.create(null);\n    for (const name in defaultOptions) {\n      const defaultOption = defaultOptions[name];\n      if (kind && !(kind & defaultOption.kind)) {\n        continue;\n      }\n      options[name] = defaultOnly ? defaultOption.value : userOptions[name] ?? defaultOption.value;\n    }\n    return options;\n  }\n  static set(name, value) {\n    userOptions[name] = value;\n  }\n  static setAll(options, init = false) {\n    if (init) {\n      if (this.get(\"disablePreferences\")) {\n        return;\n      }\n      for (const name in userOptions) {\n        if (compatibilityParams[name] !== undefined) {\n          continue;\n        }\n        console.warn(\"setAll: The Preferences may override manually set AppOptions; \" + 'please use the \"disablePreferences\"-option in order to prevent that.');\n        break;\n      }\n    }\n    for (const name in options) {\n      userOptions[name] = options[name];\n    }\n  }\n  static remove(name) {\n    delete userOptions[name];\n    const val = compatibilityParams[name];\n    if (val !== undefined) {\n      userOptions[name] = val;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/draw_layer_builder.js\n\nclass DrawLayerBuilder {\n  #drawLayer = null;\n  constructor(options) {\n    this.pageIndex = options.pageIndex;\n  }\n  async render(intent = \"display\") {\n    if (intent !== \"display\" || this.#drawLayer || this._cancelled) {\n      return;\n    }\n    this.#drawLayer = new DrawLayer({\n      pageIndex: this.pageIndex\n    });\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.#drawLayer) {\n      return;\n    }\n    this.#drawLayer.destroy();\n    this.#drawLayer = null;\n  }\n  setParent(parent) {\n    this.#drawLayer?.setParent(parent);\n  }\n  getDrawLayer() {\n    return this.#drawLayer;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/struct_tree_layer_builder.js\n\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\nclass StructTreeLayerBuilder {\n  #treeDom = undefined;\n  get renderingDone() {\n    return this.#treeDom !== undefined;\n  }\n  render(structTree) {\n    if (this.#treeDom !== undefined) {\n      return this.#treeDom;\n    }\n    const treeDom = this.#walk(structTree);\n    treeDom?.classList.add(\"structTree\");\n    return this.#treeDom = treeDom;\n  }\n  hide() {\n    if (this.#treeDom && !this.#treeDom.hidden) {\n      this.#treeDom.hidden = true;\n    }\n  }\n  show() {\n    if (this.#treeDom?.hidden) {\n      this.#treeDom.hidden = false;\n    }\n  }\n  #setAttributes(structElement, htmlElement) {\n    const {\n      alt,\n      id,\n      lang\n    } = structElement;\n    if (alt !== undefined) {\n      htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n    }\n    if (id !== undefined) {\n      htmlElement.setAttribute(\"aria-owns\", id);\n    }\n    if (lang !== undefined) {\n      htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n    }\n  }\n  #walk(node) {\n    if (!node) {\n      return null;\n    }\n    const element = document.createElement(\"span\");\n    if (\"role\" in node) {\n      const {\n        role\n      } = node;\n      const match = role.match(HEADING_PATTERN);\n      if (match) {\n        element.setAttribute(\"role\", \"heading\");\n        element.setAttribute(\"aria-level\", match[1]);\n      } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n        element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n      }\n    }\n    this.#setAttributes(node, element);\n    if (node.children) {\n      if (node.children.length === 1 && \"id\" in node.children[0]) {\n        this.#setAttributes(node.children[0], element);\n      } else {\n        for (const kid of node.children) {\n          element.append(this.#walk(kid));\n        }\n      }\n    }\n    return element;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_accessibility.js\n\nclass TextAccessibilityManager {\n  #enabled = false;\n  #textChildren = null;\n  #textNodes = new Map();\n  #waitingElements = new Map();\n  setTextMapping(textDivs) {\n    this.#textChildren = textDivs;\n  }\n  static #compareElementPositions(e1, e2) {\n    const rect1 = e1.getBoundingClientRect();\n    const rect2 = e2.getBoundingClientRect();\n    if (rect1.width === 0 && rect1.height === 0) {\n      return +1;\n    }\n    if (rect2.width === 0 && rect2.height === 0) {\n      return -1;\n    }\n    const top1 = rect1.y;\n    const bot1 = rect1.y + rect1.height;\n    const mid1 = rect1.y + rect1.height / 2;\n    const top2 = rect2.y;\n    const bot2 = rect2.y + rect2.height;\n    const mid2 = rect2.y + rect2.height / 2;\n    if (mid1 <= top2 && mid2 >= bot1) {\n      return -1;\n    }\n    if (mid2 <= top1 && mid1 >= bot2) {\n      return +1;\n    }\n    const centerX1 = rect1.x + rect1.width / 2;\n    const centerX2 = rect2.x + rect2.width / 2;\n    return centerX1 - centerX2;\n  }\n  enable() {\n    if (this.#enabled) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n    if (!this.#textChildren) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    this.#enabled = true;\n    this.#textChildren = this.#textChildren.slice();\n    this.#textChildren.sort(TextAccessibilityManager.#compareElementPositions);\n    if (this.#textNodes.size > 0) {\n      const textChildren = this.#textChildren;\n      for (const [id, nodeIndex] of this.#textNodes) {\n        const element = document.getElementById(id);\n        if (!element) {\n          this.#textNodes.delete(id);\n          continue;\n        }\n        this.#addIdToAriaOwns(id, textChildren[nodeIndex]);\n      }\n    }\n    for (const [element, isRemovable] of this.#waitingElements) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n    this.#waitingElements.clear();\n  }\n  disable() {\n    if (!this.#enabled) {\n      return;\n    }\n    this.#waitingElements.clear();\n    this.#textChildren = null;\n    this.#enabled = false;\n  }\n  removePointerInTextLayer(element) {\n    if (!this.#enabled) {\n      this.#waitingElements.delete(element);\n      return;\n    }\n    const children = this.#textChildren;\n    if (!children || children.length === 0) {\n      return;\n    }\n    const {\n      id\n    } = element;\n    const nodeIndex = this.#textNodes.get(id);\n    if (nodeIndex === undefined) {\n      return;\n    }\n    const node = children[nodeIndex];\n    this.#textNodes.delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n    if (owns?.includes(id)) {\n      owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n  #addIdToAriaOwns(id, node) {\n    const owns = node.getAttribute(\"aria-owns\");\n    if (!owns?.includes(id)) {\n      node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n    }\n    node.removeAttribute(\"role\");\n  }\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n    if (!id) {\n      return null;\n    }\n    if (!this.#enabled) {\n      this.#waitingElements.set(element, isRemovable);\n      return null;\n    }\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n    const children = this.#textChildren;\n    if (!children || children.length === 0) {\n      return null;\n    }\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(element, node) < 0);\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    this.#addIdToAriaOwns(id, child);\n    this.#textNodes.set(id, nodeIndex);\n    const parent = child.parentNode;\n    return parent?.classList.contains(\"markedContent\") ? parent.id : null;\n  }\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n    const children = Array.from(container.childNodes).filter(node => node !== element);\n    if (children.length === 0) {\n      return id;\n    }\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(elementToCompare, node) < 0);\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n    return id;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_highlighter.js\nclass TextHighlighter {\n  #eventAbortController = null;\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n    this.enabled = true;\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n      this.eventBus._on(\"updatetextlayermatches\", evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n    this._updateMatches();\n  }\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this._updateMatches(true);\n  }\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0,\n      iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n      const match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match);\n    }\n    return result;\n  }\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: undefined\n    };\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n      div.append(node);\n      return 0;\n    }\n    let i0 = selectedMatchIdx,\n      i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n    for (let i = i0; i < i1; i++) {\n      const match = matches[i];\n      const begin = match.begin;\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n      prevEnd = end;\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n    for (const match of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n    if (!findController?.highlightMatches || reset) {\n      return;\n    }\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n    this._renderMatches(this.matches);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_layer_builder.js\n\n\nclass TextLayerBuilder {\n  #enablePermissions = false;\n  #onAppend = null;\n  #renderingDone = false;\n  #textLayer = null;\n  static #textLayers = new Map();\n  static #selectionChangeAbortController = null;\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    this.#enablePermissions = enablePermissions === true;\n    this.#onAppend = onAppend;\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n  async render(viewport, textContentParams = null) {\n    if (this.#renderingDone && this.#textLayer) {\n      this.#textLayer.update({\n        viewport,\n        onBefore: this.hide.bind(this)\n      });\n      this.show();\n      return;\n    }\n    this.cancel();\n    this.#textLayer = new TextLayer({\n      textContentSource: this.pdfPage.streamTextContent(textContentParams || {\n        includeMarkedContent: true,\n        disableNormalization: true\n      }),\n      container: this.div,\n      viewport\n    });\n    const {\n      textDivs,\n      textContentItemsStr\n    } = this.#textLayer;\n    this.highlighter?.setTextMapping(textDivs, textContentItemsStr);\n    this.accessibilityManager?.setTextMapping(textDivs);\n    await this.#textLayer.render();\n    this.#renderingDone = true;\n    const endOfContent = document.createElement(\"div\");\n    endOfContent.className = \"endOfContent\";\n    this.div.append(endOfContent);\n    this.#bindMouse(endOfContent);\n    this.#onAppend?.(this.div);\n    this.highlighter?.enable();\n    this.accessibilityManager?.enable();\n  }\n  hide() {\n    if (!this.div.hidden && this.#renderingDone) {\n      this.highlighter?.disable();\n      this.div.hidden = true;\n    }\n  }\n  show() {\n    if (this.div.hidden && this.#renderingDone) {\n      this.div.hidden = false;\n      this.highlighter?.enable();\n    }\n  }\n  cancel() {\n    this.#textLayer?.cancel();\n    this.#textLayer = null;\n    this.highlighter?.disable();\n    this.accessibilityManager?.disable();\n    TextLayerBuilder.#removeGlobalSelectionListener(this.div);\n  }\n  #bindMouse(end) {\n    const {\n      div\n    } = this;\n    div.addEventListener(\"mousedown\", evt => {\n      end.classList.add(\"active\");\n    });\n    div.addEventListener(\"copy\", event => {\n      if (!this.#enablePermissions) {\n        const selection = document.getSelection();\n        event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n      }\n      event.preventDefault();\n      event.stopPropagation();\n    });\n    TextLayerBuilder.#textLayers.set(div, end);\n    TextLayerBuilder.#enableGlobalSelectionListener();\n  }\n  static #removeGlobalSelectionListener(textLayerDiv) {\n    this.#textLayers.delete(textLayerDiv);\n    if (this.#textLayers.size === 0) {\n      this.#selectionChangeAbortController?.abort();\n      this.#selectionChangeAbortController = null;\n    }\n  }\n  static #enableGlobalSelectionListener() {\n    if (this.#selectionChangeAbortController) {\n      return;\n    }\n    this.#selectionChangeAbortController = new AbortController();\n    const {\n      signal\n    } = this.#selectionChangeAbortController;\n    const reset = (end, textLayer) => {\n      textLayer.append(end);\n      end.style.width = \"\";\n      end.style.height = \"\";\n      end.classList.remove(\"active\");\n    };\n    document.addEventListener(\"pointerup\", () => {\n      this.#textLayers.forEach(reset);\n    }, {\n      signal\n    });\n    var isFirefox, prevRange;\n    document.addEventListener(\"selectionchange\", () => {\n      const selection = document.getSelection();\n      if (selection.rangeCount === 0) {\n        this.#textLayers.forEach(reset);\n        return;\n      }\n      const activeTextLayers = new Set();\n      for (let i = 0; i < selection.rangeCount; i++) {\n        const range = selection.getRangeAt(i);\n        for (const textLayerDiv of this.#textLayers.keys()) {\n          if (!activeTextLayers.has(textLayerDiv) && range.intersectsNode(textLayerDiv)) {\n            activeTextLayers.add(textLayerDiv);\n          }\n        }\n      }\n      for (const [textLayerDiv, endDiv] of this.#textLayers) {\n        if (activeTextLayers.has(textLayerDiv)) {\n          endDiv.classList.add(\"active\");\n        } else {\n          reset(endDiv, textLayerDiv);\n        }\n      }\n      isFirefox ??= getComputedStyle(this.#textLayers.values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\";\n      if (isFirefox) {\n        return;\n      }\n      const range = selection.getRangeAt(0);\n      const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n      let anchor = modifyStart ? range.startContainer : range.endContainer;\n      if (anchor.nodeType === Node.TEXT_NODE) {\n        anchor = anchor.parentNode;\n      }\n      const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n      const endDiv = this.#textLayers.get(parentTextLayer);\n      if (endDiv) {\n        endDiv.style.width = parentTextLayer.style.width;\n        endDiv.style.height = parentTextLayer.style.height;\n        anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n      }\n      prevRange = range.cloneRange();\n    }, {\n      signal\n    });\n  }\n}\n\n;// CONCATENATED MODULE: ./web/xfa_layer_builder.js\n\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      this.div = document.createElement(\"div\");\n      parameters.div = this.div;\n      return XfaLayer.render(parameters);\n    }\n    const xfaHtml = await this.pdfPage.getXfa();\n    if (this._cancelled || !xfaHtml) {\n      return {\n        textDivs: []\n      };\n    }\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      xfaHtml,\n      annotationStorage: this.annotationStorage,\n      linkService: this.linkService,\n      intent\n    };\n    if (this.div) {\n      return XfaLayer.update(parameters);\n    }\n    this.div = document.createElement(\"div\");\n    parameters.div = this.div;\n    return XfaLayer.render(parameters);\n  }\n  cancel() {\n    this._cancelled = true;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_page_view.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n  get linkService() {\n    return new SimpleLinkService();\n  }\n};\nconst LAYERS_ORDER = new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\nclass PDFPageView {\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #enableHWA = false;\n  #hasRestrictedScaling = false;\n  #layerProperties = null;\n  #loadingId = null;\n  #previousRotation = null;\n  #renderError = null;\n  #renderingState = RenderingStates.INITIAL;\n  #textLayerMode = TextLayerMode.ENABLE;\n  #useThumbnailCanvas = {\n    directDrawing: true,\n    initialOptionalContent: true,\n    regularAnnotations: true\n  };\n  #viewportMap = new WeakMap();\n  #layers = [null, null, null, null];\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.#layerProperties = options.layerProperties || DEFAULT_LAYER_PROPERTIES;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !this.renderingQueue?.hasViewer();\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    this.#setDimensions();\n    container?.append(div);\n    if (this._isStandalone) {\n      container?.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then(optionalContentConfig => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n          this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n  #addLayer(div, name) {\n    const pos = LAYERS_ORDER.get(name);\n    const oldDiv = this.#layers[pos];\n    this.#layers[pos] = div;\n    if (oldDiv) {\n      oldDiv.replaceWith(div);\n      return;\n    }\n    for (let i = pos - 1; i >= 0; i--) {\n      const layer = this.#layers[i];\n      if (layer) {\n        layer.after(div);\n        return;\n      }\n    }\n    this.div.prepend(div);\n  }\n  get renderingState() {\n    return this.#renderingState;\n  }\n  set renderingState(state) {\n    if (state === this.#renderingState) {\n      return;\n    }\n    this.#renderingState = state;\n    if (this.#loadingId) {\n      clearTimeout(this.#loadingId);\n      this.#loadingId = null;\n    }\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        this.#loadingId = setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          this.#loadingId = null;\n        }, 0);\n        break;\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n  #setDimensions() {\n    const {\n      viewport\n    } = this;\n    if (this.pdfPage) {\n      if (this.#previousRotation === viewport.rotation) {\n        return;\n      }\n      this.#previousRotation = viewport.rotation;\n    }\n    setLayerDimensions(this.div, viewport, true, false);\n  }\n  setPdfPage(pdfPage) {\n    if (this._isStandalone && (this.pageColors?.foreground === \"CanvasText\" || this.pageColors?.background === \"Canvas\")) {\n      this._container?.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      this._container?.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    this.reset();\n  }\n  destroy() {\n    this.reset();\n    this.pdfPage?.cleanup();\n  }\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: this.#layerProperties.findController\n    }));\n  }\n  #dispatchLayerRendered(name, error) {\n    this.eventBus.dispatch(name, {\n      source: this,\n      pageNumber: this.id,\n      error\n    });\n  }\n  async #renderAnnotationLayer() {\n    let error = null;\n    try {\n      await this.annotationLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`#renderAnnotationLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.#dispatchLayerRendered(\"annotationlayerrendered\", error);\n    }\n  }\n  async #renderAnnotationEditorLayer() {\n    let error = null;\n    try {\n      await this.annotationEditorLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.#dispatchLayerRendered(\"annotationeditorlayerrendered\", error);\n    }\n  }\n  async #renderDrawLayer() {\n    try {\n      await this.drawLayer.render(\"display\");\n    } catch (ex) {\n      console.error(`#renderDrawLayer: \"${ex}\".`);\n    }\n  }\n  async #renderXfaLayer() {\n    let error = null;\n    try {\n      const result = await this.xfaLayer.render(this.viewport, \"display\");\n      if (result?.textDivs && this._textHighlighter) {\n        this.#buildXfaTextContentItems(result.textDivs);\n      }\n    } catch (ex) {\n      console.error(`#renderXfaLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      if (this.xfaLayer?.div) {\n        this.l10n.pause();\n        this.#addLayer(this.xfaLayer.div, \"xfaLayer\");\n        this.l10n.resume();\n      }\n      this.#dispatchLayerRendered(\"xfalayerrendered\", error);\n    }\n  }\n  async #renderTextLayer() {\n    if (!this.textLayer) {\n      return;\n    }\n    let error = null;\n    try {\n      await this.textLayer.render(this.viewport);\n    } catch (ex) {\n      if (ex instanceof AbortException) {\n        return;\n      }\n      console.error(`#renderTextLayer: \"${ex}\".`);\n      error = ex;\n    }\n    this.#dispatchLayerRendered(\"textlayerrendered\", error);\n    this.#renderStructTreeLayer();\n  }\n  async #renderStructTreeLayer() {\n    if (!this.textLayer) {\n      return;\n    }\n    this.structTreeLayer ||= new StructTreeLayerBuilder();\n    const tree = await (!this.structTreeLayer.renderingDone ? this.pdfPage.getStructTree() : null);\n    const treeDom = this.structTreeLayer?.render(tree);\n    if (treeDom) {\n      this.l10n.pause();\n      this.canvas?.append(treeDom);\n      this.l10n.resume();\n    }\n    this.structTreeLayer?.show();\n  }\n  async #buildXfaTextContentItems(textDivs) {\n    const text = await this.pdfPage.getTextContent();\n    const items = [];\n    for (const item of text.items) {\n      items.push(item.str);\n    }\n    this._textHighlighter.setTextMapping(textDivs, items);\n    this._textHighlighter.enable();\n  }\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.#viewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes,\n      zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n      annotationLayerNode = keepAnnotationLayer && this.annotationLayer?.div || null,\n      annotationEditorLayerNode = keepAnnotationEditorLayer && this.annotationEditorLayer?.div || null,\n      xfaLayerNode = keepXfaLayer && this.xfaLayer?.div || null,\n      textLayerNode = keepTextLayer && this.textLayer?.div || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n      node.remove();\n      const layerIndex = this.#layers.indexOf(node);\n      if (layerIndex >= 0) {\n        this.#layers[layerIndex] = null;\n      }\n    }\n    div.removeAttribute(\"data-loaded\");\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n    this.structTreeLayer?.hide();\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        this.#viewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n  }\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    this.scale = scale || this.scale;\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then(optionalContentConfig => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n        this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n    this.#useThumbnailCanvas.directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    if (this._isStandalone) {\n      this._container?.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n    if (this.canvas) {\n      let onlyCssZoom = false;\n      if (this.#hasRestrictedScaling) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          this.#useThumbnailCanvas.directDrawing = false;\n        }\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n        if (postponeDrawing) {\n          return;\n        }\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: this.#renderError\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n    this.resume = null;\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      this._textHighlighter?.disable();\n    }\n  }\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n    const originalViewport = this.#viewportMap.get(target);\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1,\n        scaleY = 1;\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      this.#renderAnnotationLayer();\n    }\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        this.#renderDrawLayer();\n      }\n      this.#renderAnnotationEditorLayer();\n    }\n    if (redrawXfaLayer && this.xfaLayer) {\n      this.#renderXfaLayer();\n    }\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        this.structTreeLayer?.hide();\n      } else if (redrawTextLayer) {\n        this.#renderTextLayer();\n      }\n    }\n  }\n  get width() {\n    return this.viewport.width;\n  }\n  get height() {\n    return this.viewport.height;\n  }\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n  async #finishRenderTask(renderTask, error = null) {\n    if (renderTask === this.renderTask) {\n      this.renderTask = null;\n    }\n    if (error instanceof RenderingCancelledException) {\n      this.#renderError = null;\n      return;\n    }\n    this.#renderError = error;\n    this.renderingState = RenderingStates.FINISHED;\n    this._resetZoomLayer(true);\n    this.#useThumbnailCanvas.regularAnnotations = !renderTask.separateAnnots;\n    this.eventBus.dispatch(\"pagerendered\", {\n      source: this,\n      pageNumber: this.id,\n      cssTransform: false,\n      timestamp: performance.now(),\n      error: this.#renderError\n    });\n    if (error) {\n      throw error;\n    }\n  }\n  async draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n    const {\n      div,\n      l10n,\n      pageColors,\n      pdfPage,\n      viewport\n    } = this;\n    if (!pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      throw new Error(\"pdfPage is not loaded\");\n    }\n    this.renderingState = RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    this.#addLayer(canvasWrapper, \"canvasWrapper\");\n    if (!this.textLayer && this.#textLayerMode !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n      this._accessibilityManager ||= new TextAccessibilityManager();\n      this.textLayer = new TextLayerBuilder({\n        pdfPage,\n        highlighter: this._textHighlighter,\n        accessibilityManager: this._accessibilityManager,\n        enablePermissions: this.#textLayerMode === TextLayerMode.ENABLE_PERMISSIONS,\n        onAppend: textLayerDiv => {\n          this.l10n.pause();\n          this.#addLayer(textLayerDiv, \"textLayer\");\n          this.l10n.resume();\n        }\n      });\n    }\n    if (!this.annotationLayer && this.#annotationMode !== AnnotationMode.DISABLE) {\n      const {\n        annotationStorage,\n        annotationEditorUIManager,\n        downloadManager,\n        enableScripting,\n        fieldObjectsPromise,\n        hasJSActionsPromise,\n        linkService\n      } = this.#layerProperties;\n      this._annotationCanvasMap ||= new Map();\n      this.annotationLayer = new AnnotationLayerBuilder({\n        pdfPage,\n        annotationStorage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: this.#annotationMode === AnnotationMode.ENABLE_FORMS,\n        linkService,\n        downloadManager,\n        enableScripting,\n        hasJSActionsPromise,\n        fieldObjectsPromise,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager,\n        annotationEditorUIManager,\n        onAppend: annotationLayerDiv => {\n          this.#addLayer(annotationLayerDiv, \"annotationLayer\");\n        }\n      });\n    }\n    const renderContinueCallback = cont => {\n      showCanvas?.(false);\n      if (this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = RenderingStates.PAUSED;\n        this.resume = () => {\n          this.renderingState = RenderingStates.RUNNING;\n          cont();\n        };\n        return;\n      }\n      cont();\n    };\n    const {\n      width,\n      height\n    } = viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    const hasHCM = !!(pageColors?.background && pageColors?.foreground);\n    let showCanvas = isLastShow => {\n      if (!hasHCM || isLastShow) {\n        canvas.hidden = false;\n        showCanvas = null;\n      }\n    };\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !this.#enableHWA\n    });\n    const outputScale = this.outputScale = new OutputScale();\n    if (this.maxCanvasPixels === 0) {\n      const invScale = 1 / this.scale;\n      outputScale.sx *= invScale;\n      outputScale.sy *= invScale;\n      this.#hasRestrictedScaling = true;\n    } else if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = width * height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        this.#hasRestrictedScaling = true;\n      } else {\n        this.#hasRestrictedScaling = false;\n      }\n    }\n    const sfx = approximateFraction(outputScale.sx);\n    const sfy = approximateFraction(outputScale.sy);\n    canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n    canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n    const {\n      style\n    } = canvas;\n    style.width = floorToDivide(width, sfx[1]) + \"px\";\n    style.height = floorToDivide(height, sfy[1]) + \"px\";\n    this.#viewportMap.set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport,\n      annotationMode: this.#annotationMode,\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    const resultPromise = renderTask.promise.then(async () => {\n      showCanvas?.(true);\n      await this.#finishRenderTask(renderTask);\n      this.#renderTextLayer();\n      if (this.annotationLayer) {\n        await this.#renderAnnotationLayer();\n      }\n      const {\n        annotationEditorUIManager\n      } = this.#layerProperties;\n      if (!annotationEditorUIManager) {\n        return;\n      }\n      this.drawLayer ||= new DrawLayerBuilder({\n        pageIndex: this.id\n      });\n      await this.#renderDrawLayer();\n      this.drawLayer.setParent(canvasWrapper);\n      if (!this.annotationEditorLayer) {\n        this.annotationEditorLayer = new AnnotationEditorLayerBuilder({\n          uiManager: annotationEditorUIManager,\n          pdfPage,\n          l10n,\n          accessibilityManager: this._accessibilityManager,\n          annotationLayer: this.annotationLayer?.annotationLayer,\n          textLayer: this.textLayer,\n          drawLayer: this.drawLayer.getDrawLayer(),\n          onAppend: annotationEditorLayerDiv => {\n            this.#addLayer(annotationEditorLayerDiv, \"annotationEditorLayer\");\n          }\n        });\n      }\n      this.#renderAnnotationEditorLayer();\n    }, error => {\n      if (!(error instanceof RenderingCancelledException)) {\n        showCanvas?.(true);\n      }\n      return this.#finishRenderTask(renderTask, error);\n    });\n    if (pdfPage.isPureXfa) {\n      if (!this.xfaLayer) {\n        const {\n          annotationStorage,\n          linkService\n        } = this.#layerProperties;\n        this.xfaLayer = new XfaLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          linkService\n        });\n      }\n      this.#renderXfaLayer();\n    }\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = this.#useThumbnailCanvas;\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/generic_scripting.js\n\nasync function docProperties(pdfDocument) {\n  const url = \"\",\n    baseUrl = url.split(\"#\", 1)[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n  return {\n    ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n    metadata: metadata?.getRaw(),\n    authors: metadata?.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import( /*webpackIgnore: true*/sandboxBundleSrc);\n      sandbox.then(pdfjsSandbox => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_scripting_manager.js\n\n\nclass PDFScriptingManager {\n  #closeCapability = null;\n  #destroyCapability = null;\n  #docProperties = null;\n  #eventAbortController = null;\n  #eventBus = null;\n  #externalServices = null;\n  #pdfDocument = null;\n  #pdfViewer = null;\n  #ready = false;\n  #scripting = null;\n  #willPrintCapability = null;\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties = null\n  }) {\n    this.#eventBus = eventBus;\n    this.#externalServices = externalServices;\n    this.#docProperties = docProperties;\n  }\n  setViewer(pdfViewer) {\n    this.#pdfViewer = pdfViewer;\n  }\n  async setDocument(pdfDocument) {\n    if (this.#pdfDocument) {\n      await this.#destroyScripting();\n    }\n    this.#pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n    if (!objects && !docActions) {\n      await this.#destroyScripting();\n      return;\n    }\n    if (pdfDocument !== this.#pdfDocument) {\n      return;\n    }\n    try {\n      this.#scripting = this.#initScripting();\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await this.#destroyScripting();\n      return;\n    }\n    const eventBus = this.#eventBus;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    eventBus._on(\"updatefromsandbox\", event => {\n      if (event?.source === window) {\n        this.#updateFromSandbox(event.detail);\n      }\n    }, {\n      signal\n    });\n    eventBus._on(\"dispatcheventinsandbox\", event => {\n      this.#scripting?.dispatchEventInSandbox(event.detail);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n      this.#dispatchPageClose(previous);\n      this.#dispatchPageOpen(pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n      if (pageNumber !== this.#pdfViewer.currentPageNumber) {\n        return;\n      }\n      this.#dispatchPageOpen(pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagesdestroy\", async () => {\n      await this.#dispatchPageClose(this.#pdfViewer.currentPageNumber);\n      await this.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      });\n      this.#closeCapability?.resolve();\n    }, {\n      signal\n    });\n    try {\n      const docProperties = await this.#docProperties(pdfDocument);\n      if (pdfDocument !== this.#pdfDocument) {\n        return;\n      }\n      await this.#scripting.createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: {\n          ...docProperties,\n          actions: docActions\n        }\n      });\n      eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await this.#destroyScripting();\n      return;\n    }\n    await this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    });\n    await this.#dispatchPageOpen(this.#pdfViewer.currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === this.#pdfDocument) {\n        this.#ready = true;\n      }\n    });\n  }\n  async dispatchWillSave() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n  async dispatchDidSave() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n  async dispatchWillPrint() {\n    if (!this.#scripting) {\n      return;\n    }\n    await this.#willPrintCapability?.promise;\n    this.#willPrintCapability = Promise.withResolvers();\n    try {\n      await this.#scripting.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillPrint\"\n      });\n    } catch (ex) {\n      this.#willPrintCapability.resolve();\n      this.#willPrintCapability = null;\n      throw ex;\n    }\n    await this.#willPrintCapability.promise;\n  }\n  async dispatchDidPrint() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n  get destroyPromise() {\n    return this.#destroyCapability?.promise || null;\n  }\n  get ready() {\n    return this.#ready;\n  }\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", new Set());\n  }\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", new Map());\n  }\n  async #updateFromSandbox(detail) {\n    const pdfViewer = this.#pdfViewer;\n    const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n    const {\n      id,\n      siblings,\n      command,\n      value\n    } = detail;\n    if (!id) {\n      switch (command) {\n        case \"clear\":\n          console.clear();\n          break;\n        case \"error\":\n          console.error(value);\n          break;\n        case \"layout\":\n          if (!isInPresentationMode) {\n            const modes = apiPageLayoutToViewerModes(value);\n            pdfViewer.spreadMode = modes.spreadMode;\n          }\n          break;\n        case \"page-num\":\n          pdfViewer.currentPageNumber = value + 1;\n          break;\n        case \"print\":\n          await pdfViewer.pagesPromise;\n          this.#eventBus.dispatch(\"print\", {\n            source: this\n          });\n          break;\n        case \"println\":\n          console.log(value);\n          break;\n        case \"zoom\":\n          if (!isInPresentationMode) {\n            pdfViewer.currentScaleValue = value;\n          }\n          break;\n        case \"SaveAs\":\n          this.#eventBus.dispatch(\"download\", {\n            source: this\n          });\n          break;\n        case \"FirstPage\":\n          pdfViewer.currentPageNumber = 1;\n          break;\n        case \"LastPage\":\n          pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n          break;\n        case \"NextPage\":\n          pdfViewer.nextPage();\n          break;\n        case \"PrevPage\":\n          pdfViewer.previousPage();\n          break;\n        case \"ZoomViewIn\":\n          if (!isInPresentationMode) {\n            pdfViewer.increaseScale();\n          }\n          break;\n        case \"ZoomViewOut\":\n          if (!isInPresentationMode) {\n            pdfViewer.decreaseScale();\n          }\n          break;\n        case \"WillPrintFinished\":\n          this.#willPrintCapability?.resolve();\n          this.#willPrintCapability = null;\n          break;\n      }\n      return;\n    }\n    if (isInPresentationMode && detail.focus) {\n      return;\n    }\n    delete detail.id;\n    delete detail.siblings;\n    const ids = siblings ? [id, ...siblings] : [id];\n    for (const elementId of ids) {\n      const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n      if (element) {\n        element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n          detail\n        }));\n      } else {\n        this.#pdfDocument?.annotationStorage.setValue(elementId, detail);\n      }\n    }\n  }\n  async #dispatchPageOpen(pageNumber, initialize = false) {\n    const pdfDocument = this.#pdfDocument,\n      visitedPages = this._visitedPages;\n    if (initialize) {\n      this.#closeCapability = Promise.withResolvers();\n    }\n    if (!this.#closeCapability) {\n      return;\n    }\n    const pageView = this.#pdfViewer.getPageView(pageNumber - 1);\n    if (pageView?.renderingState !== RenderingStates.FINISHED) {\n      this._pageOpenPending.add(pageNumber);\n      return;\n    }\n    this._pageOpenPending.delete(pageNumber);\n    const actionsPromise = (async () => {\n      const actions = await (!visitedPages.has(pageNumber) ? pageView.pdfPage?.getJSActions() : null);\n      if (pdfDocument !== this.#pdfDocument) {\n        return;\n      }\n      await this.#scripting?.dispatchEventInSandbox({\n        id: \"page\",\n        name: \"PageOpen\",\n        pageNumber,\n        actions\n      });\n    })();\n    visitedPages.set(pageNumber, actionsPromise);\n  }\n  async #dispatchPageClose(pageNumber) {\n    const pdfDocument = this.#pdfDocument,\n      visitedPages = this._visitedPages;\n    if (!this.#closeCapability) {\n      return;\n    }\n    if (this._pageOpenPending.has(pageNumber)) {\n      return;\n    }\n    const actionsPromise = visitedPages.get(pageNumber);\n    if (!actionsPromise) {\n      return;\n    }\n    visitedPages.set(pageNumber, null);\n    await actionsPromise;\n    if (pdfDocument !== this.#pdfDocument) {\n      return;\n    }\n    await this.#scripting?.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageClose\",\n      pageNumber\n    });\n  }\n  #initScripting() {\n    this.#destroyCapability = Promise.withResolvers();\n    if (this.#scripting) {\n      throw new Error(\"#initScripting: Scripting already exists.\");\n    }\n    return this.#externalServices.createScripting();\n  }\n  async #destroyScripting() {\n    if (!this.#scripting) {\n      this.#pdfDocument = null;\n      this.#destroyCapability?.resolve();\n      return;\n    }\n    if (this.#closeCapability) {\n      await Promise.race([this.#closeCapability.promise, new Promise(resolve => {\n        setTimeout(resolve, 1000);\n      })]).catch(() => {});\n      this.#closeCapability = null;\n    }\n    this.#pdfDocument = null;\n    try {\n      await this.#scripting.destroySandbox();\n    } catch {}\n    this.#willPrintCapability?.reject(new Error(\"Scripting destroyed.\"));\n    this.#willPrintCapability = null;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this._pageOpenPending.clear();\n    this._visitedPages.clear();\n    this.#scripting = null;\n    this.#ready = false;\n    this.#destroyCapability?.resolve();\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_scripting_manager.component.js\n\n\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", event => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n    options.externalServices ||= {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    };\n    options.docProperties ||= pdfDocument => docProperties(pdfDocument);\n    super(options);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_rendering_queue.js\n\n\nconst CLEANUP_TIMEOUT = 30000;\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    if (this.isThumbnailViewEnabled && this.pdfThumbnailViewer?.forceRendering()) {\n      return;\n    }\n    if (this.printing) {\n      return;\n    }\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views,\n      numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return null;\n    }\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n    const firstId = visible.first.id,\n      lastId = visible.last.id;\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n        const holeView = views[holeId - 1];\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n    return null;\n  }\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n    return true;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_viewer.js\n\n\n\n\n\n\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 10000,\n  FORCE_LAZY_PAGE_INIT: 5000,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\nclass PDFPageViewBuffer {\n  #buf = new Set();\n  #size = 0;\n  constructor(size) {\n    this.#size = size;\n  }\n  push(view) {\n    const buf = this.#buf;\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n    buf.add(view);\n    if (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n  resize(newSize, idsToKeep = null) {\n    this.#size = newSize;\n    const buf = this.#buf;\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n    while (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n  has(view) {\n    return this.#buf.has(view);\n  }\n  [Symbol.iterator]() {\n    return this.#buf.keys();\n  }\n  #destroyFirstView() {\n    const firstView = this.#buf.keys().next().value;\n    firstView?.destroy();\n    this.#buf.delete(firstView);\n  }\n}\nclass PDFViewer {\n  #buffer = null;\n  #altTextManager = null;\n  #annotationEditorHighlightColors = null;\n  #annotationEditorMode = AnnotationEditorType.NONE;\n  #annotationEditorUIManager = null;\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #containerTopLeft = null;\n  #enableHWA = false;\n  #enableHighlightFloatingButton = false;\n  #enablePermissions = false;\n  #eventAbortController = null;\n  #mlManager = null;\n  #getAllTextInProgress = false;\n  #hiddenCopyElement = null;\n  #interruptCopyCondition = false;\n  #previousContainerHeight = 0;\n  #resizeObserver = new ResizeObserver(this.#resizeObserverCallback.bind(this));\n  #scrollModePageState = null;\n  #scaleTimeoutId = null;\n  #textLayerMode = TextLayerMode.ENABLE;\n  constructor(options) {\n    const viewerVersion = \"4.4.168\";\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    if (this.container?.tagName !== \"DIV\" || this.viewer?.tagName !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n    this.#resizeObserver.observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this.#altTextManager = options.altTextManager || null;\n    if (this.findController) {\n      this.findController.onIsPageVisible = pageNumber => this._getVisiblePages().ids.has(pageNumber);\n    }\n    this._scriptingManager = options.scriptingManager || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.#annotationEditorMode = options.annotationEditorMode ?? AnnotationEditorType.NONE;\n    this.#annotationEditorHighlightColors = options.annotationEditorHighlightColors || null;\n    this.#enableHighlightFloatingButton = options.enableHighlightFloatingButton === true;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.#enablePermissions = options.enablePermissions || false;\n    this.pageColors = options.pageColors || null;\n    this.#mlManager = options.mlManager || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n    const {\n      abortSignal\n    } = options;\n    abortSignal?.addEventListener(\"abort\", () => {\n      this.#resizeObserver.disconnect();\n      this.#resizeObserver = null;\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n    this.#updateContainerHeightCss();\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n      if (!this.#buffer.has(pageView)) {\n        pdfPage?.cleanup();\n      }\n    });\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n  get pagesCount() {\n    return this._pages.length;\n  }\n  getPageView(index) {\n    return this._pages[index];\n  }\n  getCachedPageViews() {\n    return new Set(this.#buffer);\n  }\n  get pageViewsReady() {\n    return this._pages.every(pageView => pageView?.pdfPage);\n  }\n  get renderForms() {\n    return this.#annotationMode === AnnotationMode.ENABLE_FORMS;\n  }\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this.#resetCurrentPageView();\n      }\n      return true;\n    }\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels?.[val - 1] ?? null,\n      previous\n    });\n    if (resetCurrentPageView) {\n      this.#resetCurrentPageView();\n    }\n    return true;\n  }\n  get currentPageLabel() {\n    return this._pageLabels?.[this._currentPageNumber - 1] ?? null;\n  }\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let page = val | 0;\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n    if (this._currentScaleValue) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return self.#annotationEditorUIManager;\n      },\n      get annotationStorage() {\n        return self.pdfDocument?.annotationStorage;\n      },\n      get downloadManager() {\n        return self.downloadManager;\n      },\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n      get fieldObjectsPromise() {\n        return self.pdfDocument?.getFieldObjects();\n      },\n      get findController() {\n        return self.findController;\n      },\n      get hasJSActionsPromise() {\n        return self.pdfDocument?.hasJSActions();\n      },\n      get linkService() {\n        return self.linkService;\n      }\n    });\n  }\n  #initializePermissions(permissions) {\n    const params = {\n      annotationEditorMode: this.#annotationEditorMode,\n      annotationMode: this.#annotationMode,\n      textLayerMode: this.#textLayerMode\n    };\n    if (!permissions) {\n      return params;\n    }\n    if (!permissions.includes(PermissionFlag.COPY) && this.#textLayerMode === TextLayerMode.ENABLE) {\n      params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n    }\n    if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n      params.annotationEditorMode = AnnotationEditorType.DISABLE;\n    }\n    if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && this.#annotationMode === AnnotationMode.ENABLE_FORMS) {\n      params.annotationMode = AnnotationMode.ENABLE;\n    }\n    return params;\n  }\n  async #onePageRenderedOrForceFetch(signal) {\n    if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n      return;\n    }\n    const hiddenCapability = Promise.withResolvers();\n    function onVisibilityChange() {\n      if (document.visibilityState === \"hidden\") {\n        hiddenCapability.resolve();\n      }\n    }\n    document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n      signal\n    });\n    await Promise.race([this._onePageRenderedCapability.promise, hiddenCapability.promise]);\n    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n  }\n  async getAllText() {\n    const texts = [];\n    const buffer = [];\n    for (let pageNum = 1, pagesCount = this.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n      if (this.#interruptCopyCondition) {\n        return null;\n      }\n      buffer.length = 0;\n      const page = await this.pdfDocument.getPage(pageNum);\n      const {\n        items\n      } = await page.getTextContent();\n      for (const item of items) {\n        if (item.str) {\n          buffer.push(item.str);\n        }\n        if (item.hasEOL) {\n          buffer.push(\"\\n\");\n        }\n      }\n      texts.push(removeNullCharacters(buffer.join(\"\")));\n    }\n    return texts.join(\"\\n\");\n  }\n  #copyCallback(textLayerMode, event) {\n    const selection = document.getSelection();\n    const {\n      focusNode,\n      anchorNode\n    } = selection;\n    if (anchorNode && focusNode && selection.containsNode(this.#hiddenCopyElement)) {\n      if (this.#getAllTextInProgress || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n      this.#getAllTextInProgress = true;\n      const {\n        classList\n      } = this.viewer;\n      classList.add(\"copyAll\");\n      const ac = new AbortController();\n      window.addEventListener(\"keydown\", ev => this.#interruptCopyCondition = ev.key === \"Escape\", {\n        signal: ac.signal\n      });\n      this.getAllText().then(async text => {\n        if (text !== null) {\n          await navigator.clipboard.writeText(text);\n        }\n      }).catch(reason => {\n        console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n      }).finally(() => {\n        this.#getAllTextInProgress = false;\n        this.#interruptCopyCondition = false;\n        ac.abort();\n        classList.remove(\"copyAll\");\n      });\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n      this._cancelRendering();\n      this._resetView();\n      this.findController?.setDocument(null);\n      this._scriptingManager?.setDocument(null);\n      if (this.#annotationEditorUIManager) {\n        this.#annotationEditorUIManager.destroy();\n        this.#annotationEditorUIManager = null;\n      }\n    }\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = this.#enablePermissions ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {});\n    const onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n      if (!pageView) {\n        return;\n      }\n      this.#buffer.push(pageView);\n    };\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n    const onAfterDraw = evt => {\n      if (evt.cssTransform) {\n        return;\n      }\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n      this._firstPageCapability.resolve(firstPdfPage);\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = this.#initializePermissions(permissions);\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = this.#hiddenCopyElement = document.createElement(\"div\");\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n      if (annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          this.#annotationEditorUIManager = new AnnotationEditorUIManager(this.container, viewer, this.#altTextManager, eventBus, pdfDocument, pageColors, this.#annotationEditorHighlightColors, this.#enableHighlightFloatingButton, this.#mlManager);\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: this.#annotationEditorUIManager\n          });\n          if (mode !== AnnotationEditorType.NONE) {\n            this.#annotationEditorUIManager.updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n      if (pageColors?.foreground === \"CanvasText\" || pageColors?.background === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: this.#enableHWA\n        });\n        this._pages.push(pageView);\n      }\n      this._pages[0]?.setPdfPage(firstPdfPage);\n      if (this._scrollMode === ScrollMode.PAGE) {\n        this.#ensurePageViewVisible();\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n      this.#onePageRenderedOrForceFetch(signal).then(async () => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        this.findController?.setDocument(pdfDocument);\n        this._scriptingManager?.setDocument(pdfDocument);\n        if (this.#hiddenCopyElement) {\n          document.addEventListener(\"copy\", this.#copyCallback.bind(this, textLayerMode), {\n            signal\n          });\n        }\n        if (this.#annotationEditorUIManager) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: this.#annotationEditorMode\n          });\n        }\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount - 1;\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n      this._pagesCapability.reject(reason);\n    });\n  }\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(this._pageLabels?.[i] ?? null);\n    }\n  }\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this.#buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    this.#scrollModePageState = {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    };\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this.viewer.textContent = \"\";\n    this._updateScrollMode();\n    this.viewer.removeAttribute(\"lang\");\n    this.#hiddenCopyElement?.remove();\n    this.#hiddenCopyElement = null;\n  }\n  #ensurePageViewVisible() {\n    if (this._scrollMode !== ScrollMode.PAGE) {\n      throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n    }\n    const pageNumber = this._currentPageNumber,\n      state = this.#scrollModePageState,\n      viewer = this.viewer;\n    viewer.textContent = \"\";\n    state.pages.length = 0;\n    if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n      const pageView = this._pages[pageNumber - 1];\n      viewer.append(pageView.div);\n      state.pages.push(pageView);\n    } else {\n      const pageIndexSet = new Set(),\n        parity = this._spreadMode - 1;\n      if (parity === -1) {\n        pageIndexSet.add(pageNumber - 1);\n      } else if (pageNumber % 2 !== parity) {\n        pageIndexSet.add(pageNumber - 1);\n        pageIndexSet.add(pageNumber);\n      } else {\n        pageIndexSet.add(pageNumber - 2);\n        pageIndexSet.add(pageNumber - 1);\n      }\n      const spread = document.createElement(\"div\");\n      spread.className = \"spread\";\n      if (this.isInPresentationMode) {\n        const dummyPage = document.createElement(\"div\");\n        dummyPage.className = \"dummyPage\";\n        spread.append(dummyPage);\n      }\n      for (const i of pageIndexSet) {\n        const pageView = this._pages[i];\n        if (!pageView) {\n          continue;\n        }\n        spread.append(pageView.div);\n        state.pages.push(pageView);\n      }\n      viewer.append(spread);\n    }\n    state.scrollDown = pageNumber >= state.previousPageNumber;\n    state.previousPageNumber = pageNumber;\n  }\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n  #scrollIntoView(pageView, pageSpot = null) {\n    const {\n      div,\n      id\n    } = pageView;\n    if (this._currentPageNumber !== id) {\n      this._setCurrentPageNumber(id);\n    }\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n      this.update();\n    }\n    if (!pageSpot && !this.isInPresentationMode) {\n      const left = div.offsetLeft + div.clientLeft,\n        right = left + div.clientWidth;\n      const {\n        scrollLeft,\n        clientWidth\n      } = this.container;\n      if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n        pageSpot = {\n          left: 0,\n          top: 0\n        };\n      }\n    }\n    scrollIntoView(div, pageSpot);\n    if (!this._currentScaleValue && this._location) {\n      this._location = null;\n    }\n  }\n  #isSameScale(newScale) {\n    return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n  }\n  #setScaleUpdatePages(newScale, newValue, {\n    noScroll = false,\n    preset = false,\n    drawingDelay = -1,\n    origin = null\n  }) {\n    this._currentScaleValue = newValue.toString();\n    if (this.#isSameScale(newScale)) {\n      if (preset) {\n        this.eventBus.dispatch(\"scalechanging\", {\n          source: this,\n          scale: newScale,\n          presetValue: newValue\n        });\n      }\n      return;\n    }\n    this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n    const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n    this.refresh(true, {\n      scale: newScale,\n      drawingDelay: postponeDrawing ? drawingDelay : -1\n    });\n    if (postponeDrawing) {\n      this.#scaleTimeoutId = setTimeout(() => {\n        this.#scaleTimeoutId = null;\n        this.refresh();\n      }, drawingDelay);\n    }\n    const previousScale = this._currentScale;\n    this._currentScale = newScale;\n    if (!noScroll) {\n      let page = this._currentPageNumber,\n        dest;\n      if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, {\n          name: \"XYZ\"\n        }, this._location.left, this._location.top, null];\n      }\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true\n      });\n      if (Array.isArray(origin)) {\n        const scaleDiff = newScale / previousScale - 1;\n        const [top, left] = this.containerTopLeft;\n        this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n        this.container.scrollTop += (origin[1] - top) * scaleDiff;\n      }\n    }\n    this.eventBus.dispatch(\"scalechanging\", {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get #pageWidthScaleFactor() {\n    if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n      return 2;\n    }\n    return 1;\n  }\n  #setScale(value, options) {\n    let scale = parseFloat(value);\n    if (scale > 0) {\n      options.preset = false;\n      this.#setScaleUpdatePages(scale, value, options);\n    } else {\n      const currentPage = this._pages[this._currentPageNumber - 1];\n      if (!currentPage) {\n        return;\n      }\n      let hPadding = SCROLLBAR_PADDING,\n        vPadding = VERTICAL_PADDING;\n      if (this.isInPresentationMode) {\n        hPadding = vPadding = 4;\n        if (this._spreadMode !== SpreadMode.NONE) {\n          hPadding *= 2;\n        }\n      } else if (this.removePageBorders) {\n        hPadding = vPadding = 0;\n      } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n        [hPadding, vPadding] = [vPadding, hPadding];\n      }\n      const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / this.#pageWidthScaleFactor;\n      const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n      switch (value) {\n        case \"page-actual\":\n          scale = 1;\n          break;\n        case \"page-width\":\n          scale = pageWidthScale;\n          break;\n        case \"page-height\":\n          scale = pageHeightScale;\n          break;\n        case \"page-fit\":\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n        case \"auto\":\n          const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n          scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n          break;\n        default:\n          console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n      options.preset = true;\n      this.#setScaleUpdatePages(scale, value, options);\n    }\n  }\n  #resetCurrentPageView() {\n    const pageView = this._pages[this._currentPageNumber - 1];\n    if (this.isInPresentationMode) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.#scrollIntoView(pageView);\n  }\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n    const i = this._pageLabels.indexOf(label);\n    if (i < 0) {\n      return null;\n    }\n    return i + 1;\n  }\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n      return;\n    }\n    let x = 0,\n      y = 0;\n    let width = 0,\n      height = 0,\n      widthScale,\n      heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n        break;\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING,\n          vPadding = VERTICAL_PADDING;\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n    if (scale === \"page-fit\" && !destArray[4]) {\n      this.#scrollIntoView(pageView);\n      return;\n    }\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    this.#scrollIntoView(pageView, {\n      left,\n      top\n    });\n  }\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n  update() {\n    const visible = this._getVisiblePages();\n    const visiblePages = visible.views,\n      numVisiblePages = visiblePages.length;\n    if (numVisiblePages === 0) {\n      return;\n    }\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    this.#buffer.resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n  focus() {\n    this.container.focus();\n  }\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? this.#scrollModePageState.pages : this._pages,\n      horizontal = this._scrollMode === ScrollMode.HORIZONTAL,\n      rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n  async #ensurePdfPageLoaded(pageView) {\n    if (pageView.pdfPage) {\n      return pageView.pdfPage;\n    }\n    try {\n      const pdfPage = await this.pdfDocument.getPage(pageView.id);\n      if (!pageView.pdfPage) {\n        pageView.setPdfPage(pdfPage);\n      }\n      return pdfPage;\n    } catch (reason) {\n      console.error(\"Unable to get page for page view\", reason);\n      return null;\n    }\n  }\n  #getScrollAhead(visible) {\n    if (visible.first?.id === 1) {\n      return true;\n    } else if (visible.last?.id === this.pagesCount) {\n      return false;\n    }\n    switch (this._scrollMode) {\n      case ScrollMode.PAGE:\n        return this.#scrollModePageState.scrollDown;\n      case ScrollMode.HORIZONTAL:\n        return this.scroll.right;\n    }\n    return this.scroll.down;\n  }\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    const scrollAhead = this.#getScrollAhead(visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    if (pageView) {\n      this.#ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map(pageView => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n      if (initialOrientation === undefined) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n    return this._optionalContentConfigPromise;\n  }\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n  get scrollMode() {\n    return this._scrollMode;\n  }\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateScrollMode(this._currentPageNumber);\n  }\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n      viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n    if (scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  get spreadMode() {\n    return this._spreadMode;\n  }\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const viewer = this.viewer,\n      pages = this._pages;\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else {\n      viewer.textContent = \"\";\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n          spread.append(pages[i].div);\n        }\n      }\n    }\n    if (!pageNumber) {\n      return;\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED:\n        {\n          const {\n              views\n            } = this._getVisiblePages(),\n            pageLayout = new Map();\n          for (const {\n            id,\n            y,\n            percent,\n            widthPercent\n          } of views) {\n            if (percent === 0 || widthPercent < 100) {\n              continue;\n            }\n            let yArray = pageLayout.get(y);\n            if (!yArray) {\n              pageLayout.set(y, yArray ||= []);\n            }\n            yArray.push(id);\n          }\n          for (const yArray of pageLayout.values()) {\n            const currentIndex = yArray.indexOf(currentPageNumber);\n            if (currentIndex === -1) {\n              continue;\n            }\n            const numPages = yArray.length;\n            if (numPages === 1) {\n              break;\n            }\n            if (previous) {\n              for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i + 1] - 1;\n                if (currentId < expectedId) {\n                  return currentPageNumber - expectedId;\n                }\n              }\n            } else {\n              for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i - 1] + 1;\n                if (currentId > expectedId) {\n                  return expectedId - currentPageNumber;\n                }\n              }\n            }\n            if (previous) {\n              const firstId = yArray[0];\n              if (firstId < currentPageNumber) {\n                return currentPageNumber - firstId + 1;\n              }\n            } else {\n              const lastId = yArray[numPages - 1];\n              if (lastId > currentPageNumber) {\n                return lastId - currentPageNumber + 1;\n              }\n            }\n            break;\n          }\n          break;\n        }\n      case ScrollMode.HORIZONTAL:\n        {\n          break;\n        }\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL:\n        {\n          if (this._spreadMode === SpreadMode.NONE) {\n            break;\n          }\n          const parity = this._spreadMode - 1;\n          if (previous && currentPageNumber % 2 !== parity) {\n            break;\n          } else if (!previous && currentPageNumber % 2 === parity) {\n            break;\n          }\n          const {\n              views\n            } = this._getVisiblePages(),\n            expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n          for (const {\n            id,\n            percent,\n            widthPercent\n          } of views) {\n            if (id !== expectedId) {\n              continue;\n            }\n            if (percent > 0 && widthPercent === 100) {\n              return 2;\n            }\n            break;\n          }\n          break;\n        }\n    }\n    return 1;\n  }\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber,\n      pagesCount = this.pagesCount;\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    let newScale = this._currentScale;\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    this.#setScale(newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n  increaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: options.steps ?? 1\n    });\n  }\n  decreaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n  #updateContainerHeightCss(height = this.container.clientHeight) {\n    if (height !== this.#previousContainerHeight) {\n      this.#previousContainerHeight = height;\n      docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n    }\n  }\n  #resizeObserverCallback(entries) {\n    for (const entry of entries) {\n      if (entry.target === this.container) {\n        this.#updateContainerHeightCss(Math.floor(entry.borderBoxSize[0].blockSize));\n        this.#containerTopLeft = null;\n        break;\n      }\n    }\n  }\n  get containerTopLeft() {\n    return this.#containerTopLeft ||= [this.container.offsetTop, this.container.offsetLeft];\n  }\n  get annotationEditorMode() {\n    return this.#annotationEditorUIManager ? this.#annotationEditorMode : AnnotationEditorType.DISABLE;\n  }\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    if (this.#annotationEditorMode === mode) {\n      return;\n    }\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#annotationEditorMode = mode;\n    this.eventBus.dispatch(\"annotationeditormodechanged\", {\n      source: this,\n      mode\n    });\n    this.#annotationEditorUIManager.updateMode(mode, editId, isFromKeyboard);\n  }\n  set annotationEditorParams({\n    type,\n    value\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    this.#annotationEditorUIManager.updateParams(type, value);\n  }\n  refresh(noUpdate = false, updateArgs = Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n    if (this.#scaleTimeoutId !== null) {\n      clearTimeout(this.#scaleTimeoutId);\n      this.#scaleTimeoutId = null;\n    }\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_single_page_viewer.js\n\n\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n  set scrollMode(mode) {}\n  _updateScrollMode() {}\n  set spreadMode(mode) {}\n  _updateSpreadMode() {}\n}\n\n;// CONCATENATED MODULE: ./web/pdf_viewer.component.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.4.168\";\nconst pdfjsBuild = \"19fbc8998\";\n\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport { __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder, __webpack_exports__DownloadManager as DownloadManager, __webpack_exports__EventBus as EventBus, __webpack_exports__FindState as FindState, __webpack_exports__GenericL10n as GenericL10n, __webpack_exports__LinkTarget as LinkTarget, __webpack_exports__PDFFindController as PDFFindController, __webpack_exports__PDFHistory as PDFHistory, __webpack_exports__PDFLinkService as PDFLinkService, __webpack_exports__PDFPageView as PDFPageView, __webpack_exports__PDFScriptingManager as PDFScriptingManager, __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer, __webpack_exports__PDFViewer as PDFViewer, __webpack_exports__ProgressBar as ProgressBar, __webpack_exports__RenderingStates as RenderingStates, __webpack_exports__ScrollMode as ScrollMode, __webpack_exports__SimpleLinkService as SimpleLinkService, __webpack_exports__SpreadMode as SpreadMode, __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder, __webpack_exports__TextLayerBuilder as TextLayerBuilder, __webpack_exports__XfaLayerBuilder as XfaLayerBuilder, __webpack_exports__parseQueryString as parseQueryString };\n\n//# sourceMappingURL=pdf_viewer.mjs.map"],"names":["__webpack_require__","exports","definition","key","obj","prop","__webpack_exports__","AnnotationLayerBuilder","DownloadManager","EventBus","FindState","genericl10n_GenericL10n","LinkTarget","PDFFindController","PDFHistory","PDFLinkService","PDFPageView","PDFScriptingManagerComponents","PDFSinglePageViewer","PDFViewer","ProgressBar","RenderingStates","ScrollMode","SimpleLinkService","SpreadMode","StructTreeLayerBuilder","TextLayerBuilder","XfaLayerBuilder","parseQueryString","DEFAULT_SCALE_VALUE","DEFAULT_SCALE","DEFAULT_SCALE_DELTA","MIN_SCALE","MAX_SCALE","UNKNOWN_SCALE","MAX_AUTO_SCALE","SCROLLBAR_PADDING","VERTICAL_PADDING","PresentationModeState","TextLayerMode","OutputScale","pixelRatio","scrollIntoView","element","spot","scrollMatches","parent","offsetY","offsetX","watchScroll","viewAreaElement","callback","abortSignal","debounceScroll","evt","rAF","currentX","lastX","state","currentY","lastY","query","params","value","InvisibleCharsRegExp","removeNullCharacters","str","replaceInvisible","m","binarySearchFirstItem","items","condition","start","minIndex","maxIndex","currentIndex","currentItem","approximateFraction","x","xinv","limit","x_","a","b","c","d","p","q","result","floorToDivide","div","backtrackBeforeAllVisibleElements","index","views","top","elt","pageTop","i","getVisibleElements","scrollEl","sortByVisibility","horizontal","rtl","bottom","left","right","isElementBottomAfterViewTop","view","isElementNextAfterViewHorizontally","elementLeft","elementRight","visible","ids","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","hiddenWidth","fractionHeight","fractionWidth","percent","first","last","pc","isValidRotation","angle","isValidScrollMode","mode","isValidSpreadMode","isPortraitOrientation","size","resolve","docStyle","clamp","v","min","max","_classList","_disableAutoFetchTimeout","_percent","_style","_visible","bar","__privateAdd","__privateSet","__privateGet","val","viewer","scrollbarWidth","delay","apiPageLayoutToViewerModes","layout","scrollMode","spreadMode","CharacterType","isAlphabeticalScript","charCode","isAscii","isAsciiAlpha","isAsciiDigit","isAsciiSpace","isHan","isKatakana","isHiragana","isHalfwidthKatakana","isThai","getCharacterType","NormalizeWithNFKC","getNormalizeWithNFKC","FIND_TIMEOUT","MATCH_SCROLL_OFFSET_TOP","MATCH_SCROLL_OFFSET_LEFT","CHARACTERS_TO_NORMALIZE","DIACRITICS_EXCEPTION","DIACRITICS_EXCEPTION_STR","DIACRITICS_REG_EXP","SPECIAL_CHARS_REG_EXP","NOT_DIACRITIC_FROM_END_REG_EXP","NOT_DIACRITIC_FROM_START_REG_EXP","SYLLABLES_REG_EXP","SYLLABLES_LENGTHS","FIRST_CHAR_SYLLABLES_REG_EXP","NFKC_CHARS_TO_NORMALIZE","noSyllablesRegExp","withSyllablesRegExp","normalize","text","syllablePositions","char","len","normalizationRegex","replace","toNormalizeWithNFKC","regexp","rawDiacriticsPositions","normalized","positions","rawDiacriticsIndex","syllableIndex","shift","shiftOrigin","eol","hasDiacritics","match","p1","p2","p3","p4","p5","p6","p7","p8","_a","_b","_c","replacement","jj","j","hasTrailingDashEOL","newCharLen","getOriginalIndex","diffs","pos","end","oldStart","oldLen","_state","_updateMatchesCountOnProgress","_visitedPagesCount","_PDFFindController_instances","onFind_fn","reset_fn","query_get","shouldDirtyMatch_fn","isEntireWord_fn","calculateRegExpMatch_fn","convertToRegExpString_fn","calculateMatch_fn","extractText_fn","updatePage_fn","updateAllPages_fn","nextMatch_fn","matchesReady_fn","nextPageMatch_fn","advanceOffsetPage_fn","updateMatch_fn","onFindBarClose_fn","requestMatchesCount_fn","updateUIResultsCount_fn","updateUIState_fn","linkService","eventBus","updateMatchesCountOnProgress","__privateMethod","pdfDocument","selectedLeft","pageIndex","matchIndex","type","findbarClosed","pendingTimeout","newQuery","prevQuery","newType","pageNumber","content","startIdx","length","entireWord","pageContent","matches","matchesLength","matchPos","matchLen","matchDiacritics","isUnicode","trailingSpaces","caseSensitive","isUnicodePart","queryPart","flags","pageMatchesCount","__privateWrapper","deferred","textOptions","ii","promise","pdfPage","textContent","strBuf","textItem","reason","previous","currentPageIndex","numPages","offset","numPageMatches","numMatches","pageIdx","found","wrapped","previousPage","matchIdx","current","total","DEFAULT_LINK_REL","_PDFLinkService_static","isValidExplicitDest_fn","_PDFLinkService","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","__publicField","baseUrl","pdfViewer","pdfHistory","dest","namedDest","explicitDest","destRef","link","url","newWindow","target","rel","targetStr","anchor","hash","phrase","zoomArgs","zoomArg","zoomArgNumber","action","optionalContentConfig","page","zoom","args","allowNull","arg","AbortException","AnnotationEditorLayer","AnnotationEditorParamsType","AnnotationEditorType","AnnotationEditorUIManager","AnnotationLayer","AnnotationMode","build","CMapCompressionType","ColorPicker","createValidAbsoluteUrl","DOMSVGFactory","DrawLayer","FeatureTest","fetchData","getDocument","getFilenameFromUrl","getPdfFilenameFromUrl","getXfaPageViewport","GlobalWorkerOptions","ImageKind","InvalidPDFException","isDataScheme","isPdfFile","MissingPDFException","noContextMenu","normalizeUnicode","OPS","Outliner","PasswordResponses","PDFDataRangeTransport","PDFDateString","PDFWorker","PermissionFlag","PixelsPerInch","RenderingCancelledException","renderTextLayer","setLayerDimensions","shadow","TextLayer","UnexpectedResponseException","updateTextLayer","Util","VerbosityLevel","version","XfaLayer","_onAppend","_eventAbortController","_AnnotationLayerBuilder_instances","updatePresentationModeState_fn","downloadManager","annotationStorage","imageResourcesPath","renderForms","enableScripting","hasJSActionsPromise","fieldObjectsPromise","annotationCanvasMap","accessibilityManager","annotationEditorUIManager","onAppend","viewport","intent","annotations","hasJSActions","fieldObjects","disableFormElements","section","download","blobUrl","filename","_openBlobUrls","data","contentType","_options","WaitOnType","waitOnEventOrTimeout","name","ac","handler","timeout","evtMethod","_listeners","eventName","listener","options","eventListeners","externalListeners","external","once","rmAbort","signal","onAbort","FluentType","FluentNone","scope","FluentNumber","opts","err","FluentDateTime","MAX_PLACEABLES","FSI","PDI","selector","category","getDefault","variants","star","resolvePattern","getArguments","positional","named","resolveExpression","expr","resolveVariableReference","resolveMessageReference","resolveTermReference","resolveFunctionReference","resolveSelectExpression","attr","message","attribute","id","term","resolved","func","sel","variant","resolveComplexPattern","ptn","useIsolating","elem","Scope","bundle","errors","error","ctor","cache","values","allowed","unwrapped","opt","NUMBER_ALLOWED","NUMBER","DATETIME_ALLOWED","DATETIME","getMemoizerForLocale","locales","stringLocale","memoizer","FluentBundle","functions","transform","res","allowOverrides","entry","pattern","RE_MESSAGE_START","RE_ATTRIBUTE_START","RE_VARIANT_START","RE_NUMBER_LITERAL","RE_IDENTIFIER","RE_REFERENCE","RE_FUNCTION_NAME","RE_TEXT_RUN","RE_STRING_RUN","RE_STRING_ESCAPE","RE_UNICODE_ESCAPE","RE_LEADING_NEWLINES","RE_TRAILING_SPACES","RE_BLANK_LINES","RE_INDENT","TOKEN_BRACE_OPEN","TOKEN_BRACE_CLOSE","TOKEN_BRACKET_OPEN","TOKEN_BRACKET_CLOSE","TOKEN_PAREN_OPEN","TOKEN_ARROW","TOKEN_COLON","TOKEN_COMMA","TOKEN_BLANK","FluentResource","source","cursor","next","parseMessage","test","re","consumeChar","errorClass","consumeToken","match1","parsePattern","attributes","parseAttributes","attrs","parsePatternElements","indent","parseIndent","trim","elements","commonIndent","parsePlaceable","lastIndex","lastElement","baked","Indent","parseInlineExpression","parseVariants","sigil","parseArguments","parseLiteral","parseArgument","count","parseVariantKey","parseNumberLiteral","parseStringLiteral","fraction","precision","parseEscapeSequence","codepoint4","codepoint6","codepoint","makeIndent","blank","reOverlay","TEXT_LEVEL_ELEMENTS","LOCALIZABLE_ATTRIBUTES","translateElement","translation","templateElement","overlayChildNodes","overlayAttributes","fromFragment","toElement","childNode","sanitized","getNodeForNamedElement","isElementAllowed","createSanitizedElement","createTextNodeFromTextContent","hasAttribute","fromElement","explicitlyAllowed","isAttrNameLocalizable","sourceElement","translatedChild","childName","sourceChild","clone","shallowPopulateUsing","attrName","elemName","CachedIterable","iterable","CachedAsyncIterable","cached","cur","idx","Localization","resourceIds","generateBundles","eager","r","keys","method","translations","hasAtLeastOneBundle","missingIds","keysFromBundle","locale","messageFromBundle","valueFromBundle","formatted","attrNames","messageErrors","L10NID_ATTR_NAME","L10NARGS_ATTR_NAME","L10N_ELEMENT_QUERY","DOMLocalization","newRoot","root","mutations","roots","mutation","addedNode","frag","nodes","_dir","_elements","_lang","_l10n","_L10n_static","fixupLangCode_fn","isRTL_fn","_L10n","lang","isRTL","l10n","fallback","messages","langCode","shortCode","L10n","createBundle","resource","_genericl10n_GenericL10n_static","generateBundles_fn","createBundle_fn","getPaths_fn","generateBundlesFallback_fn","createBundleFallback_fn","_genericl10n_GenericL10n","defaultLang","baseLang","baseURL","paths","langs","shortLang","path","href","HASH_CHANGE_TIMEOUT","POSITION_UPDATED_THRESHOLD","UPDATE_VIEWAREA_TIMEOUT","getCurrentHash","_PDFHistory_instances","pushOrReplaceState_fn","tryPushCurrentPosition_fn","isValidPage_fn","isValidState_fn","updateInternalState_fn","parseCurrentHash_fn","updateViewarea_fn","popState_fn","pageHide_fn","bindEvents_fn","unbindEvents_fn","fingerprint","resetHistory","updateUrl","reInitialized","rotation","destination","forceReplace","isDestHashesEqual","isDestArraysEqual","shouldReplace","newState","newUrl","temporary","position","checkReload","perfEntry","uid","removeTemporary","checkNameddest","nameddest","location","newHash","hashChanged","destHash","pushHash","firstDest","secondDest","isEntryEqual","second","_annotationLayer","_drawLayer","_textLayer","_uiManager","AnnotationEditorLayerBuilder","clonedViewport","parameters","compatibilityParams","userAgent","platform","maxTouchPoints","isAndroid","isIOS","OptionKind","defaultOptions","userOptions","AppOptions","kind","defaultOnly","defaultOption","init","DrawLayerBuilder","PDF_ROLE_TO_HTML_ROLE","HEADING_PATTERN","_treeDom","_StructTreeLayerBuilder_instances","setAttributes_fn","walk_fn","structTree","treeDom","structElement","htmlElement","alt","node","role","kid","_enabled","_textChildren","_textNodes","_waitingElements","_TextAccessibilityManager_static","compareElementPositions_fn","_TextAccessibilityManager_instances","addIdToAriaOwns_fn","_TextAccessibilityManager","textDivs","textChildren","nodeIndex","isRemovable","children","owns","child","container","contentElement","elementToCompare","e1","e2","rect1","rect2","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","TextAccessibilityManager","TextHighlighter","findController","divs","texts","textContentItemsStr","iIndex","mm","isSelectedPage","selectedMatchIdx","highlightAll","prevEnd","infinity","beginText","begin","className","divIdx","appendTextToDiv","fromOffset","toOffset","span","i0","i1","lastDivIdx","lastOffset","isSelected","highlightSuffix","n0","n1","reset","clearedUntilDivIdx","n","pageMatches","pageMatchesLength","_enablePermissions","_renderingDone","_textLayers","_selectionChangeAbortController","_TextLayerBuilder_instances","bindMouse_fn","_TextLayerBuilder_static","removeGlobalSelectionListener_fn","enableGlobalSelectionListener_fn","_TextLayerBuilder","highlighter","enablePermissions","textContentParams","_d","_e","endOfContent","event","selection","textLayerDiv","textLayer","isFirefox","prevRange","activeTextLayers","range","endDiv","modifyStart","parentTextLayer","xfaHtml","DEFAULT_LAYER_PROPERTIES","LAYERS_ORDER","_annotationMode","_enableHWA","_hasRestrictedScaling","_layerProperties","_loadingId","_previousRotation","_renderError","_renderingState","_textLayerMode","_useThumbnailCanvas","_viewportMap","_layers","_PDFPageView_instances","addLayer_fn","setDimensions_fn","dispatchLayerRendered_fn","renderAnnotationLayer_fn","renderAnnotationEditorLayer_fn","renderDrawLayer_fn","renderXfaLayer_fn","renderTextLayer_fn","renderStructTreeLayer_fn","buildXfaTextContentItems_fn","finishRenderTask_fn","defaultViewport","optionalContentConfigPromise","totalRotation","removeFromDOM","zoomLayerCanvas","keepZoomLayer","keepAnnotationLayer","keepAnnotationEditorLayer","keepXfaLayer","keepTextLayer","childNodes","zoomLayerNode","annotationLayerNode","annotationEditorLayerNode","xfaLayerNode","textLayerNode","layerIndex","scale","drawingDelay","onlyCssZoom","width","height","sx","sy","postponeDrawing","cancelExtraDelay","redrawAnnotationLayer","redrawAnnotationEditorLayer","redrawXfaLayer","redrawTextLayer","hideTextLayer","style","originalViewport","relativeRotation","absRotation","scaleX","scaleY","y","pageColors","canvasWrapper","annotationLayerDiv","renderContinueCallback","cont","showCanvas","canvas","hasHCM","isLastShow","ctx","outputScale","invScale","pixelsInViewport","maxScale","sfx","sfy","renderContext","renderTask","resultPromise","annotationEditorLayerDiv","label","directDrawing","initialOptionalContent","regularAnnotations","oldDiv","layer","ex","tree","item","docProperties","info","metadata","contentDispositionFilename","contentLength","GenericScripting","sandboxBundleSrc","reject","pdfjsSandbox","sandbox","_closeCapability","_destroyCapability","_docProperties","_eventBus","_externalServices","_pdfDocument","_pdfViewer","_ready","_scripting","_willPrintCapability","_PDFScriptingManager_instances","updateFromSandbox_fn","dispatchPageOpen_fn","dispatchPageClose_fn","initScripting_fn","destroyScripting_fn","PDFScriptingManager","externalServices","objects","calculationOrder","docActions","detail","isInPresentationMode","siblings","command","modes","elementId","initialize","visitedPages","pageView","actionsPromise","actions","CLEANUP_TIMEOUT","PDFRenderingQueue","pdfThumbnailViewer","currentlyVisiblePages","scrolledDown","preRenderExtra","visibleViews","numVisible","firstId","lastId","visibleIds","holeId","holeView","preRenderIndex","preRenderView","DEFAULT_CACHE_SIZE","PagesCountLimit","isValidAnnotationEditorMode","_buf","_size","_PDFPageViewBuffer_instances","destroyFirstView_fn","PDFPageViewBuffer","buf","newSize","idsToKeep","firstView","_buffer","_altTextManager","_annotationEditorHighlightColors","_annotationEditorMode","_annotationEditorUIManager","_containerTopLeft","_enableHighlightFloatingButton","_mlManager","_getAllTextInProgress","_hiddenCopyElement","_interruptCopyCondition","_previousContainerHeight","_resizeObserver","_scrollModePageState","_scaleTimeoutId","_PDFViewer_instances","initializePermissions_fn","onePageRenderedOrForceFetch_fn","copyCallback_fn","ensurePageViewVisible_fn","scrollIntoView_fn","isSameScale_fn","setScaleUpdatePages_fn","pageWidthScaleFactor_get","setScale_fn","resetCurrentPageView_fn","ensurePdfPageLoaded_fn","getScrollAhead_fn","updateContainerHeightCss_fn","resizeObserverCallback_fn","viewerVersion","resetCurrentPageView","self","buffer","pageNum","pagesCount","firstPagePromise","permissionsPromise","onBeforeDraw","onAfterDraw","firstPdfPage","permissions","annotationEditorMode","annotationMode","textLayerMode","viewerElement","getPagesLeft","labels","destArray","allowNegativeOffset","widthScale","heightScale","changeOrientation","pageWidth","pageHeight","hPadding","vPadding","boundingRect","firstPage","currentScale","currentScaleValue","normalizedScaleValue","currentPageView","topLeft","intLeft","intTop","pdfOpenParams","visiblePages","numVisiblePages","newCacheSize","isSimpleLayout","currentId","stillFullyVisible","scrollAhead","firstPageView","initialOrientation","orientation","pages","parity","spread","currentPageNumber","pageLayout","widthPercent","yArray","expectedId","advance","scaleFactor","steps","origin","newScale","delta","round","editId","isFromKeyboard","noUpdate","updateArgs","hiddenCapability","onVisibilityChange","focusNode","anchorNode","classList","ev","pageIndexSet","dummyPage","pageSpot","scrollLeft","clientWidth","newValue","noScroll","preset","previousScale","scaleDiff","currentPage","pageWidthScale","pageHeightScale","horizontalScale","entries","__webpack_exports__AnnotationLayerBuilder","__webpack_exports__DownloadManager","__webpack_exports__EventBus","__webpack_exports__FindState","__webpack_exports__GenericL10n","__webpack_exports__LinkTarget","__webpack_exports__PDFFindController","__webpack_exports__PDFHistory","__webpack_exports__PDFLinkService","__webpack_exports__PDFPageView","__webpack_exports__PDFScriptingManager","__webpack_exports__PDFSinglePageViewer","__webpack_exports__PDFViewer","__webpack_exports__ProgressBar","__webpack_exports__RenderingStates","__webpack_exports__ScrollMode","__webpack_exports__SimpleLinkService","__webpack_exports__SpreadMode","__webpack_exports__StructTreeLayerBuilder","__webpack_exports__TextLayerBuilder","__webpack_exports__XfaLayerBuilder","__webpack_exports__parseQueryString"],"mappings":"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","x_google_ignoreList":[0]}